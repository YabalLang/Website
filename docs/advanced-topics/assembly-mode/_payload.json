[{"data":1,"prerenderedAt":737},["Reactive",2],{"content-query-CC9UMxhSUi":3,"content-navigation-8C37fagqQL":700},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"tags":10,"navigation":11,"body":13,"_type":695,"_id":696,"_source":697,"_file":698,"_extension":699},"/docs/advanced-topics/assembly-mode","advanced-topics",false,"","Assembly mode","Learn how to write raw assembly code in Yabal.",[5],{"sidebar":12},true,{"type":14,"children":15,"toc":688},"root",[16,24,30,57,103,108,115,140,152,185,190,196,212,217,398,405,410,421,460,472,522,537,543,555,682],{"type":17,"tag":18,"props":19,"children":21},"element","h1",{"id":20},"assembly-mode",[22],{"type":23,"value":8},"text",{"type":17,"tag":25,"props":26,"children":27},"p",{},[28],{"type":23,"value":29},"Yabal has a special mode called \"assembly mode\". In assembly mode, you can write assembly code directly in your program.",{"type":17,"tag":25,"props":31,"children":32},{},[33,35,41,43,48,50,55],{"type":23,"value":34},"To enter assembly mode, use the ",{"type":17,"tag":36,"props":37,"children":38},"code",{"className":7},[39],{"type":23,"value":40},"asm",{"type":23,"value":42}," keyword, followed by a block of code surrounded by curly braces (",{"type":17,"tag":36,"props":44,"children":45},{"className":7},[46],{"type":23,"value":47},"{",{"type":23,"value":49}," and ",{"type":17,"tag":36,"props":51,"children":52},{"className":7},[53],{"type":23,"value":54},"}",{"type":23,"value":56},"):",{"type":17,"tag":58,"props":59,"children":63},"pre",{"className":60,"code":61,"language":62,"meta":7,"style":7},"language-yabal shiki shiki-themes github-light github-dark","asm {\n    // Assembly code goes here\n}\n","yabal",[64],{"type":17,"tag":36,"props":65,"children":66},{"__ignoreMap":7},[67,84,94],{"type":17,"tag":68,"props":69,"children":72},"span",{"class":70,"line":71},"line",1,[73,78],{"type":17,"tag":68,"props":74,"children":76},{"style":75},"--shiki-default:#D73A49;--shiki-dark:#F97583",[77],{"type":23,"value":40},{"type":17,"tag":68,"props":79,"children":81},{"style":80},"--shiki-default:#24292E;--shiki-dark:#E1E4E8",[82],{"type":23,"value":83}," {\n",{"type":17,"tag":68,"props":85,"children":87},{"class":70,"line":86},2,[88],{"type":17,"tag":68,"props":89,"children":91},{"style":90},"--shiki-default:#6A737D;--shiki-dark:#6A737D",[92],{"type":23,"value":93},"    // Assembly code goes here\n",{"type":17,"tag":68,"props":95,"children":97},{"class":70,"line":96},3,[98],{"type":17,"tag":68,"props":99,"children":100},{"style":80},[101],{"type":23,"value":102},"}\n",{"type":17,"tag":25,"props":104,"children":105},{},[106],{"type":23,"value":107},"Assembly mode is useful if you want to use an instruction that is not supported by Yabal, or if you want to optimize a piece of code.",{"type":17,"tag":109,"props":110,"children":112},"h2",{"id":111},"comments",[113],{"type":23,"value":114},"Comments",{"type":17,"tag":25,"props":116,"children":117},{},[118,120,125,127,132,133,138],{"type":23,"value":119},"The default comment style in assembly mode is the same as in Yabal (",{"type":17,"tag":36,"props":121,"children":122},{"className":7},[123],{"type":23,"value":124},"//",{"type":23,"value":126}," for single-line comments and ",{"type":17,"tag":36,"props":128,"children":129},{"className":7},[130],{"type":23,"value":131},"/*",{"type":23,"value":49},{"type":17,"tag":36,"props":134,"children":135},{"className":7},[136],{"type":23,"value":137},"*/",{"type":23,"value":139}," for multi-line comments) but you can also use assembly comments.",{"type":17,"tag":25,"props":141,"children":142},{},[143,145,150],{"type":23,"value":144},"Assembly comments start with ",{"type":17,"tag":36,"props":146,"children":147},{"className":7},[148],{"type":23,"value":149},",",{"type":23,"value":151}," and end at the end of the line:",{"type":17,"tag":58,"props":153,"children":155},{"className":60,"code":154,"language":62,"meta":7,"style":7},"asm {\n    , This is an assembly comment\n}\n",[156],{"type":17,"tag":36,"props":157,"children":158},{"__ignoreMap":7},[159,170,178],{"type":17,"tag":68,"props":160,"children":161},{"class":70,"line":71},[162,166],{"type":17,"tag":68,"props":163,"children":164},{"style":75},[165],{"type":23,"value":40},{"type":17,"tag":68,"props":167,"children":168},{"style":80},[169],{"type":23,"value":83},{"type":17,"tag":68,"props":171,"children":172},{"class":70,"line":86},[173],{"type":17,"tag":68,"props":174,"children":175},{"style":90},[176],{"type":23,"value":177},"    , This is an assembly comment\n",{"type":17,"tag":68,"props":179,"children":180},{"class":70,"line":96},[181],{"type":17,"tag":68,"props":182,"children":183},{"style":80},[184],{"type":23,"value":102},{"type":17,"tag":25,"props":186,"children":187},{},[188],{"type":23,"value":189},"These comments are are included in the generated assembly code, which can be useful for adding notes to the assembly code.",{"type":17,"tag":109,"props":191,"children":193},{"id":192},"instructions",[194],{"type":23,"value":195},"Instructions",{"type":17,"tag":25,"props":197,"children":198},{},[199,201,210],{"type":23,"value":200},"To see the list of supported assembly instructions, see the ",{"type":17,"tag":202,"props":203,"children":207},"a",{"href":204,"rel":205},"https://sam-astro.github.io/Astro8-Computer/docs/Architecture/Instruction%20Set.html",[206],"nofollow",[208],{"type":23,"value":209},"Astro-8 instruction set documentation",{"type":23,"value":211},".",{"type":17,"tag":25,"props":213,"children":214},{},[215],{"type":23,"value":216},"In addition to the instructions listed in the instruction set documentation, Yabal also supports the following instructions:",{"type":17,"tag":218,"props":219,"children":220},"table",{},[221,240],{"type":17,"tag":222,"props":223,"children":224},"thead",{},[225],{"type":17,"tag":226,"props":227,"children":228},"tr",{},[229,235],{"type":17,"tag":230,"props":231,"children":232},"th",{},[233],{"type":23,"value":234},"Instruction",{"type":17,"tag":230,"props":236,"children":237},{},[238],{"type":23,"value":239},"Description",{"type":17,"tag":241,"props":242,"children":243},"tbody",{},[244,273,298,323,348,373],{"type":17,"tag":226,"props":245,"children":246},{},[247,256],{"type":17,"tag":248,"props":249,"children":250},"td",{},[251],{"type":17,"tag":36,"props":252,"children":253},{"className":7},[254],{"type":23,"value":255},"JE",{"type":17,"tag":248,"props":257,"children":258},{},[259,261,266,268],{"type":23,"value":260},"Jump to the specified label if register ",{"type":17,"tag":36,"props":262,"children":263},{"className":7},[264],{"type":23,"value":265},"A",{"type":23,"value":267}," is equal to register ",{"type":17,"tag":36,"props":269,"children":270},{"className":7},[271],{"type":23,"value":272},"B",{"type":17,"tag":226,"props":274,"children":275},{},[276,284],{"type":17,"tag":248,"props":277,"children":278},{},[279],{"type":17,"tag":36,"props":280,"children":281},{"className":7},[282],{"type":23,"value":283},"JNE",{"type":17,"tag":248,"props":285,"children":286},{},[287,288,292,294],{"type":23,"value":260},{"type":17,"tag":36,"props":289,"children":290},{"className":7},[291],{"type":23,"value":265},{"type":23,"value":293}," is not equal to register ",{"type":17,"tag":36,"props":295,"children":296},{"className":7},[297],{"type":23,"value":272},{"type":17,"tag":226,"props":299,"children":300},{},[301,309],{"type":17,"tag":248,"props":302,"children":303},{},[304],{"type":17,"tag":36,"props":305,"children":306},{"className":7},[307],{"type":23,"value":308},"JL",{"type":17,"tag":248,"props":310,"children":311},{},[312,313,317,319],{"type":23,"value":260},{"type":17,"tag":36,"props":314,"children":315},{"className":7},[316],{"type":23,"value":265},{"type":23,"value":318}," is less than register ",{"type":17,"tag":36,"props":320,"children":321},{"className":7},[322],{"type":23,"value":272},{"type":17,"tag":226,"props":324,"children":325},{},[326,334],{"type":17,"tag":248,"props":327,"children":328},{},[329],{"type":17,"tag":36,"props":330,"children":331},{"className":7},[332],{"type":23,"value":333},"JLE",{"type":17,"tag":248,"props":335,"children":336},{},[337,338,342,344],{"type":23,"value":260},{"type":17,"tag":36,"props":339,"children":340},{"className":7},[341],{"type":23,"value":265},{"type":23,"value":343}," is less than or equal to register ",{"type":17,"tag":36,"props":345,"children":346},{"className":7},[347],{"type":23,"value":272},{"type":17,"tag":226,"props":349,"children":350},{},[351,359],{"type":17,"tag":248,"props":352,"children":353},{},[354],{"type":17,"tag":36,"props":355,"children":356},{"className":7},[357],{"type":23,"value":358},"JG",{"type":17,"tag":248,"props":360,"children":361},{},[362,363,367,369],{"type":23,"value":260},{"type":17,"tag":36,"props":364,"children":365},{"className":7},[366],{"type":23,"value":265},{"type":23,"value":368}," is greater than register ",{"type":17,"tag":36,"props":370,"children":371},{"className":7},[372],{"type":23,"value":272},{"type":17,"tag":226,"props":374,"children":375},{},[376,384],{"type":17,"tag":248,"props":377,"children":378},{},[379],{"type":17,"tag":36,"props":380,"children":381},{"className":7},[382],{"type":23,"value":383},"JGE",{"type":17,"tag":248,"props":385,"children":386},{},[387,388,392,394],{"type":23,"value":260},{"type":17,"tag":36,"props":389,"children":390},{"className":7},[391],{"type":23,"value":265},{"type":23,"value":393}," is greater than or equal to register ",{"type":17,"tag":36,"props":395,"children":396},{"className":7},[397],{"type":23,"value":272},{"type":17,"tag":399,"props":400,"children":402},"h3",{"id":401},"labels",[403],{"type":23,"value":404},"Labels",{"type":17,"tag":25,"props":406,"children":407},{},[408],{"type":23,"value":409},"Labels are used to mark a location in the assembly code. They are used by jump instructions to jump to a specific location in the code.",{"type":17,"tag":25,"props":411,"children":412},{},[413,415,420],{"type":23,"value":414},"Labels are declared by writing the name of the label, followed by a colon (",{"type":17,"tag":36,"props":416,"children":417},{"className":7},[418],{"type":23,"value":419},":",{"type":23,"value":56},{"type":17,"tag":58,"props":422,"children":424},{"className":60,"code":423,"language":62,"meta":7,"style":7},"asm {\n    label:\n}\n",[425],{"type":17,"tag":36,"props":426,"children":427},{"__ignoreMap":7},[428,439,453],{"type":17,"tag":68,"props":429,"children":430},{"class":70,"line":71},[431,435],{"type":17,"tag":68,"props":432,"children":433},{"style":75},[434],{"type":23,"value":40},{"type":17,"tag":68,"props":436,"children":437},{"style":80},[438],{"type":23,"value":83},{"type":17,"tag":68,"props":440,"children":441},{"class":70,"line":86},[442,448],{"type":17,"tag":68,"props":443,"children":445},{"style":444},"--shiki-default:#6F42C1;--shiki-dark:#B392F0",[446],{"type":23,"value":447},"    label",{"type":17,"tag":68,"props":449,"children":450},{"style":80},[451],{"type":23,"value":452},":\n",{"type":17,"tag":68,"props":454,"children":455},{"class":70,"line":96},[456],{"type":17,"tag":68,"props":457,"children":458},{"style":80},[459],{"type":23,"value":102},{"type":17,"tag":25,"props":461,"children":462},{},[463,465,470],{"type":23,"value":464},"To jump to a label, use the ",{"type":17,"tag":36,"props":466,"children":467},{"className":7},[468],{"type":23,"value":469},"JMP",{"type":23,"value":471}," instruction:",{"type":17,"tag":58,"props":473,"children":475},{"className":60,"code":474,"language":62,"meta":7,"style":7},"asm {\n    label:\n    JMP label\n}\n",[476],{"type":17,"tag":36,"props":477,"children":478},{"__ignoreMap":7},[479,490,501,514],{"type":17,"tag":68,"props":480,"children":481},{"class":70,"line":71},[482,486],{"type":17,"tag":68,"props":483,"children":484},{"style":75},[485],{"type":23,"value":40},{"type":17,"tag":68,"props":487,"children":488},{"style":80},[489],{"type":23,"value":83},{"type":17,"tag":68,"props":491,"children":492},{"class":70,"line":86},[493,497],{"type":17,"tag":68,"props":494,"children":495},{"style":444},[496],{"type":23,"value":447},{"type":17,"tag":68,"props":498,"children":499},{"style":80},[500],{"type":23,"value":452},{"type":17,"tag":68,"props":502,"children":503},{"class":70,"line":96},[504,509],{"type":17,"tag":68,"props":505,"children":506},{"style":75},[507],{"type":23,"value":508},"    JMP",{"type":17,"tag":68,"props":510,"children":511},{"style":444},[512],{"type":23,"value":513}," label\n",{"type":17,"tag":68,"props":515,"children":517},{"class":70,"line":516},4,[518],{"type":17,"tag":68,"props":519,"children":520},{"style":80},[521],{"type":23,"value":102},{"type":17,"tag":523,"props":524,"children":525},"warning",{},[526],{"type":17,"tag":25,"props":527,"children":528},{},[529,535],{"type":17,"tag":530,"props":531,"children":532},"strong",{},[533],{"type":23,"value":534},"Note:",{"type":23,"value":536}," It is only possible to jump to labels that are declared in the same assembly block.",{"type":17,"tag":109,"props":538,"children":540},{"id":539},"variable-addresses",[541],{"type":23,"value":542},"Variable addresses",{"type":17,"tag":25,"props":544,"children":545},{},[546,548,553],{"type":23,"value":547},"In assembly mode, you can get the address of a variable by using ",{"type":17,"tag":36,"props":549,"children":550},{"className":7},[551],{"type":23,"value":552},"@",{"type":23,"value":554}," followed by the name of the variable:",{"type":17,"tag":58,"props":556,"children":558},{"className":60,"code":557,"language":62,"meta":7,"style":7},"int a = 1\n\nasm {\n    AIN @a // Read the value of a into register A\n    LDIB 1 // Load the value 1 into register B\n    ADD // Add the value of register B to register A\n    STA @a // Store the value of register A into a\n}\n",[559],{"type":17,"tag":36,"props":560,"children":561},{"__ignoreMap":7},[562,586,594,605,623,642,656,674],{"type":17,"tag":68,"props":563,"children":564},{"class":70,"line":71},[565,570,575,580],{"type":17,"tag":68,"props":566,"children":567},{"style":75},[568],{"type":23,"value":569},"int",{"type":17,"tag":68,"props":571,"children":572},{"style":80},[573],{"type":23,"value":574}," a ",{"type":17,"tag":68,"props":576,"children":577},{"style":75},[578],{"type":23,"value":579},"=",{"type":17,"tag":68,"props":581,"children":583},{"style":582},"--shiki-default:#005CC5;--shiki-dark:#79B8FF",[584],{"type":23,"value":585}," 1\n",{"type":17,"tag":68,"props":587,"children":588},{"class":70,"line":86},[589],{"type":17,"tag":68,"props":590,"children":591},{"emptyLinePlaceholder":12},[592],{"type":23,"value":593},"\n",{"type":17,"tag":68,"props":595,"children":596},{"class":70,"line":96},[597,601],{"type":17,"tag":68,"props":598,"children":599},{"style":75},[600],{"type":23,"value":40},{"type":17,"tag":68,"props":602,"children":603},{"style":80},[604],{"type":23,"value":83},{"type":17,"tag":68,"props":606,"children":607},{"class":70,"line":516},[608,613,618],{"type":17,"tag":68,"props":609,"children":610},{"style":75},[611],{"type":23,"value":612},"    AIN",{"type":17,"tag":68,"props":614,"children":615},{"style":80},[616],{"type":23,"value":617}," @a ",{"type":17,"tag":68,"props":619,"children":620},{"style":90},[621],{"type":23,"value":622},"// Read the value of a into register A\n",{"type":17,"tag":68,"props":624,"children":626},{"class":70,"line":625},5,[627,632,637],{"type":17,"tag":68,"props":628,"children":629},{"style":75},[630],{"type":23,"value":631},"    LDIB",{"type":17,"tag":68,"props":633,"children":634},{"style":582},[635],{"type":23,"value":636}," 1",{"type":17,"tag":68,"props":638,"children":639},{"style":90},[640],{"type":23,"value":641}," // Load the value 1 into register B\n",{"type":17,"tag":68,"props":643,"children":645},{"class":70,"line":644},6,[646,651],{"type":17,"tag":68,"props":647,"children":648},{"style":75},[649],{"type":23,"value":650},"    ADD",{"type":17,"tag":68,"props":652,"children":653},{"style":90},[654],{"type":23,"value":655}," // Add the value of register B to register A\n",{"type":17,"tag":68,"props":657,"children":659},{"class":70,"line":658},7,[660,665,669],{"type":17,"tag":68,"props":661,"children":662},{"style":75},[663],{"type":23,"value":664},"    STA",{"type":17,"tag":68,"props":666,"children":667},{"style":80},[668],{"type":23,"value":617},{"type":17,"tag":68,"props":670,"children":671},{"style":90},[672],{"type":23,"value":673},"// Store the value of register A into a\n",{"type":17,"tag":68,"props":675,"children":677},{"class":70,"line":676},8,[678],{"type":17,"tag":68,"props":679,"children":680},{"style":80},[681],{"type":23,"value":102},{"type":17,"tag":683,"props":684,"children":685},"style",{},[686],{"type":23,"value":687},"html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":7,"searchDepth":86,"depth":86,"links":689},[690,691,694],{"id":111,"depth":86,"text":114},{"id":192,"depth":86,"text":195,"children":692},[693],{"id":401,"depth":96,"text":404},{"id":539,"depth":86,"text":542},"markdown","content:docs:4.advanced-topics:1.assembly-mode.md","content","docs/4.advanced-topics/1.assembly-mode.md","md",[701],{"title":702,"_path":703,"children":704,"root":12},"Documentation","/docs",[705,706,720,728],{"title":702,"_path":703},{"title":707,"_path":708,"children":709,"sidebar":6},"Getting started","/docs/get-started",[710,713,716,719],{"title":711,"_path":712,"sidebar":12},"Downloads","/docs/get-started/downloads",{"title":714,"_path":715,"sidebar":12},"Emulator","/docs/get-started/emulator",{"title":717,"_path":718,"sidebar":12},"Basics of Yabal","/docs/get-started/basics-of-yabal",{"title":707,"_path":708,"sidebar":6},{"title":721,"_path":722,"children":723,"sidebar":6},"Language reference","/docs/language-reference",[724,727],{"title":725,"_path":726,"sidebar":12},"Structs","/docs/language-reference/structs",{"title":721,"_path":722,"sidebar":6},{"title":729,"_path":730,"children":731,"sidebar":6},"Advanced topics","/docs/advanced-topics",[732,733,736],{"title":8,"_path":4,"sidebar":12},{"title":734,"_path":735,"sidebar":12},"Optimizing","/docs/advanced-topics/optimizing",{"title":729,"_path":730,"sidebar":6},1698278553444]