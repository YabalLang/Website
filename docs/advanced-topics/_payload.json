[{"data":1,"prerenderedAt":2065},["Reactive",2],{"content-query-YXzPKDkeos":3,"content-navigation-8C37fagqQL":42,"content-navigation-FUh909p6pk":94,"content-query-zix1ut1RP2":102,"content-query-GvZFZA3PoP":996},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"tags":10,"navigation":12,"body":13,"_type":37,"_id":38,"_source":39,"_file":40,"_extension":41},"/docs/advanced-topics","docs",false,"","Advanced topics","Learn about the advanced features of Yabal.",[11],"index",{"sidebar":6},{"type":14,"children":15,"toc":34},"root",[16,24,30],{"type":17,"tag":18,"props":19,"children":21},"element","h1",{"id":20},"advanced-topics",[22],{"type":23,"value":8},"text",{"type":17,"tag":25,"props":26,"children":27},"p",{},[28],{"type":23,"value":29},"This section contains more advanced topics about Yabal.",{"type":17,"tag":31,"props":32,"children":33},"related",{":tags":20},[],{"title":7,"searchDepth":35,"depth":35,"links":36},2,[],"markdown","content:docs:5.advanced-topics:index.md","content","docs/5.advanced-topics/index.md","md",[43],{"title":44,"_path":45,"children":46,"root":55},"Documentation","/docs",[47,48,63,77,85],{"title":44,"_path":45},{"title":49,"_path":50,"children":51,"sidebar":6},"Getting started","/docs/get-started",[52,56,59,62],{"title":53,"_path":54,"sidebar":55},"Downloads","/docs/get-started/downloads",true,{"title":57,"_path":58,"sidebar":55},"Emulator","/docs/get-started/emulator",{"title":60,"_path":61,"sidebar":55},"Basics of Yabal","/docs/get-started/basics-of-yabal",{"title":49,"_path":50,"sidebar":6},{"title":64,"_path":65,"children":66,"sidebar":6},"Language reference","/docs/language-reference",[67,70,73,76],{"title":68,"_path":69,"sidebar":55},"Structs","/docs/language-reference/structs",{"title":71,"_path":72,"sidebar":55},"Function pointers","/docs/language-reference/function-pointer",{"title":74,"_path":75,"sidebar":55},"Stack allocations","/docs/language-reference/stack-allocations",{"title":64,"_path":65,"sidebar":6},{"title":78,"_path":79,"children":80,"sidebar":6},"Perhipherals","/docs/peripherals",[81,84],{"title":82,"_path":83,"sidebar":55},"Screen","/docs/peripherals/screen",{"title":78,"_path":79,"sidebar":6},{"title":8,"_path":4,"children":86,"sidebar":6},[87,90,93],{"title":88,"_path":89,"sidebar":55},"Assembly mode","/docs/advanced-topics/assembly-mode",{"title":91,"_path":92,"sidebar":55},"Optimizing","/docs/advanced-topics/optimizing",{"title":8,"_path":4,"sidebar":6},[95],{"title":44,"_path":45,"children":96,"root":55},[97],{"title":98,"_path":4,"children":99},"Advanced Topics",[100,101],{"title":88,"_path":89,"sidebar":55},{"title":91,"_path":92,"sidebar":55},{"_path":89,"_dir":20,"_draft":6,"_partial":6,"_locale":7,"title":88,"description":103,"tags":104,"navigation":105,"body":106,"_type":37,"_id":994,"_source":39,"_file":995,"_extension":41},"Learn how to write raw assembly code in Yabal.",[20],{"sidebar":55},{"type":14,"children":107,"toc":987},[108,113,118,145,190,195,202,227,239,272,277,283,299,304,501,507,519,665,672,677,688,727,739,788,803,815,832,981],{"type":17,"tag":18,"props":109,"children":111},{"id":110},"assembly-mode",[112],{"type":23,"value":88},{"type":17,"tag":25,"props":114,"children":115},{},[116],{"type":23,"value":117},"Yabal has a special mode called \"assembly mode\". In assembly mode, you can write assembly code directly in your program.",{"type":17,"tag":25,"props":119,"children":120},{},[121,123,129,131,136,138,143],{"type":23,"value":122},"To enter assembly mode, use the ",{"type":17,"tag":124,"props":125,"children":126},"code",{"className":7},[127],{"type":23,"value":128},"asm",{"type":23,"value":130}," keyword, followed by a block of code surrounded by curly braces (",{"type":17,"tag":124,"props":132,"children":133},{"className":7},[134],{"type":23,"value":135},"{",{"type":23,"value":137}," and ",{"type":17,"tag":124,"props":139,"children":140},{"className":7},[141],{"type":23,"value":142},"}",{"type":23,"value":144},"):",{"type":17,"tag":146,"props":147,"children":151},"pre",{"className":148,"code":149,"language":150,"meta":7,"style":7},"language-yabal shiki shiki-themes github-light github-dark","asm {\n    // Assembly code goes here\n}\n","yabal",[152],{"type":17,"tag":124,"props":153,"children":154},{"__ignoreMap":7},[155,172,181],{"type":17,"tag":156,"props":157,"children":160},"span",{"class":158,"line":159},"line",1,[161,166],{"type":17,"tag":156,"props":162,"children":164},{"style":163},"--shiki-default:#D73A49;--shiki-dark:#F97583",[165],{"type":23,"value":128},{"type":17,"tag":156,"props":167,"children":169},{"style":168},"--shiki-default:#24292E;--shiki-dark:#E1E4E8",[170],{"type":23,"value":171}," {\n",{"type":17,"tag":156,"props":173,"children":174},{"class":158,"line":35},[175],{"type":17,"tag":156,"props":176,"children":178},{"style":177},"--shiki-default:#6A737D;--shiki-dark:#6A737D",[179],{"type":23,"value":180},"    // Assembly code goes here\n",{"type":17,"tag":156,"props":182,"children":184},{"class":158,"line":183},3,[185],{"type":17,"tag":156,"props":186,"children":187},{"style":168},[188],{"type":23,"value":189},"}\n",{"type":17,"tag":25,"props":191,"children":192},{},[193],{"type":23,"value":194},"Assembly mode is useful if you want to use an instruction that is not supported by Yabal, or if you want to optimize a piece of code.",{"type":17,"tag":196,"props":197,"children":199},"h2",{"id":198},"comments",[200],{"type":23,"value":201},"Comments",{"type":17,"tag":25,"props":203,"children":204},{},[205,207,212,214,219,220,225],{"type":23,"value":206},"The default comment style in assembly mode is the same as in Yabal (",{"type":17,"tag":124,"props":208,"children":209},{"className":7},[210],{"type":23,"value":211},"//",{"type":23,"value":213}," for single-line comments and ",{"type":17,"tag":124,"props":215,"children":216},{"className":7},[217],{"type":23,"value":218},"/*",{"type":23,"value":137},{"type":17,"tag":124,"props":221,"children":222},{"className":7},[223],{"type":23,"value":224},"*/",{"type":23,"value":226}," for multi-line comments) but you can also use assembly comments.",{"type":17,"tag":25,"props":228,"children":229},{},[230,232,237],{"type":23,"value":231},"Assembly comments start with ",{"type":17,"tag":124,"props":233,"children":234},{"className":7},[235],{"type":23,"value":236},",",{"type":23,"value":238}," and end at the end of the line:",{"type":17,"tag":146,"props":240,"children":242},{"className":148,"code":241,"language":150,"meta":7,"style":7},"asm {\n    , This is an assembly comment\n}\n",[243],{"type":17,"tag":124,"props":244,"children":245},{"__ignoreMap":7},[246,257,265],{"type":17,"tag":156,"props":247,"children":248},{"class":158,"line":159},[249,253],{"type":17,"tag":156,"props":250,"children":251},{"style":163},[252],{"type":23,"value":128},{"type":17,"tag":156,"props":254,"children":255},{"style":168},[256],{"type":23,"value":171},{"type":17,"tag":156,"props":258,"children":259},{"class":158,"line":35},[260],{"type":17,"tag":156,"props":261,"children":262},{"style":177},[263],{"type":23,"value":264},"    , This is an assembly comment\n",{"type":17,"tag":156,"props":266,"children":267},{"class":158,"line":183},[268],{"type":17,"tag":156,"props":269,"children":270},{"style":168},[271],{"type":23,"value":189},{"type":17,"tag":25,"props":273,"children":274},{},[275],{"type":23,"value":276},"These comments are are included in the generated assembly code, which can be useful for adding notes to the assembly code.",{"type":17,"tag":196,"props":278,"children":280},{"id":279},"instructions",[281],{"type":23,"value":282},"Instructions",{"type":17,"tag":25,"props":284,"children":285},{},[286,288,297],{"type":23,"value":287},"To see the list of supported assembly instructions, see the ",{"type":17,"tag":289,"props":290,"children":294},"a",{"href":291,"rel":292},"https://sam-astro.github.io/Astro8-Computer/docs/Architecture/Instruction%20Set.html",[293],"nofollow",[295],{"type":23,"value":296},"Astro-8 instruction set documentation",{"type":23,"value":298},".",{"type":17,"tag":25,"props":300,"children":301},{},[302],{"type":23,"value":303},"In addition to the instructions listed in the instruction set documentation, Yabal also supports the following instructions:",{"type":17,"tag":305,"props":306,"children":307},"table",{},[308,327],{"type":17,"tag":309,"props":310,"children":311},"thead",{},[312],{"type":17,"tag":313,"props":314,"children":315},"tr",{},[316,322],{"type":17,"tag":317,"props":318,"children":319},"th",{},[320],{"type":23,"value":321},"Instruction",{"type":17,"tag":317,"props":323,"children":324},{},[325],{"type":23,"value":326},"Description",{"type":17,"tag":328,"props":329,"children":330},"tbody",{},[331,348,376,401,426,451,476],{"type":17,"tag":313,"props":332,"children":333},{},[334,343],{"type":17,"tag":335,"props":336,"children":337},"td",{},[338],{"type":17,"tag":124,"props":339,"children":340},{"className":7},[341],{"type":23,"value":342},"HERE",{"type":17,"tag":335,"props":344,"children":345},{},[346],{"type":23,"value":347},"Insert the argument as a raw value",{"type":17,"tag":313,"props":349,"children":350},{},[351,359],{"type":17,"tag":335,"props":352,"children":353},{},[354],{"type":17,"tag":124,"props":355,"children":356},{"className":7},[357],{"type":23,"value":358},"JE",{"type":17,"tag":335,"props":360,"children":361},{},[362,364,369,371],{"type":23,"value":363},"Jump to the specified label if register ",{"type":17,"tag":124,"props":365,"children":366},{"className":7},[367],{"type":23,"value":368},"A",{"type":23,"value":370}," is equal to register ",{"type":17,"tag":124,"props":372,"children":373},{"className":7},[374],{"type":23,"value":375},"B",{"type":17,"tag":313,"props":377,"children":378},{},[379,387],{"type":17,"tag":335,"props":380,"children":381},{},[382],{"type":17,"tag":124,"props":383,"children":384},{"className":7},[385],{"type":23,"value":386},"JNE",{"type":17,"tag":335,"props":388,"children":389},{},[390,391,395,397],{"type":23,"value":363},{"type":17,"tag":124,"props":392,"children":393},{"className":7},[394],{"type":23,"value":368},{"type":23,"value":396}," is not equal to register ",{"type":17,"tag":124,"props":398,"children":399},{"className":7},[400],{"type":23,"value":375},{"type":17,"tag":313,"props":402,"children":403},{},[404,412],{"type":17,"tag":335,"props":405,"children":406},{},[407],{"type":17,"tag":124,"props":408,"children":409},{"className":7},[410],{"type":23,"value":411},"JL",{"type":17,"tag":335,"props":413,"children":414},{},[415,416,420,422],{"type":23,"value":363},{"type":17,"tag":124,"props":417,"children":418},{"className":7},[419],{"type":23,"value":368},{"type":23,"value":421}," is less than register ",{"type":17,"tag":124,"props":423,"children":424},{"className":7},[425],{"type":23,"value":375},{"type":17,"tag":313,"props":427,"children":428},{},[429,437],{"type":17,"tag":335,"props":430,"children":431},{},[432],{"type":17,"tag":124,"props":433,"children":434},{"className":7},[435],{"type":23,"value":436},"JLE",{"type":17,"tag":335,"props":438,"children":439},{},[440,441,445,447],{"type":23,"value":363},{"type":17,"tag":124,"props":442,"children":443},{"className":7},[444],{"type":23,"value":368},{"type":23,"value":446}," is less than or equal to register ",{"type":17,"tag":124,"props":448,"children":449},{"className":7},[450],{"type":23,"value":375},{"type":17,"tag":313,"props":452,"children":453},{},[454,462],{"type":17,"tag":335,"props":455,"children":456},{},[457],{"type":17,"tag":124,"props":458,"children":459},{"className":7},[460],{"type":23,"value":461},"JG",{"type":17,"tag":335,"props":463,"children":464},{},[465,466,470,472],{"type":23,"value":363},{"type":17,"tag":124,"props":467,"children":468},{"className":7},[469],{"type":23,"value":368},{"type":23,"value":471}," is greater than register ",{"type":17,"tag":124,"props":473,"children":474},{"className":7},[475],{"type":23,"value":375},{"type":17,"tag":313,"props":477,"children":478},{},[479,487],{"type":17,"tag":335,"props":480,"children":481},{},[482],{"type":17,"tag":124,"props":483,"children":484},{"className":7},[485],{"type":23,"value":486},"JGE",{"type":17,"tag":335,"props":488,"children":489},{},[490,491,495,497],{"type":23,"value":363},{"type":17,"tag":124,"props":492,"children":493},{"className":7},[494],{"type":23,"value":368},{"type":23,"value":496}," is greater than or equal to register ",{"type":17,"tag":124,"props":498,"children":499},{"className":7},[500],{"type":23,"value":375},{"type":17,"tag":196,"props":502,"children":504},{"id":503},"variable-addresses",[505],{"type":23,"value":506},"Variable addresses",{"type":17,"tag":25,"props":508,"children":509},{},[510,512,517],{"type":23,"value":511},"In assembly mode, you can get the address of a variable by using ",{"type":17,"tag":124,"props":513,"children":514},{"className":7},[515],{"type":23,"value":516},"@",{"type":23,"value":518}," followed by the name of the variable:",{"type":17,"tag":146,"props":520,"children":523},{"className":148,"code":521,"filename":522,"language":150,"meta":7,"style":7},"int variable = 1\n\nasm {\n    AIN @variable // Read the value of a into register A\n    LDIB 1 // Load the value 1 into register B\n    ADD // Add the value of register B to register A\n    STA @variable // Store the value of register A into a\n}\n\nvariable\n","run",[524],{"type":17,"tag":124,"props":525,"children":526},{"__ignoreMap":7},[527,551,559,570,589,608,622,640,648,656],{"type":17,"tag":156,"props":528,"children":529},{"class":158,"line":159},[530,535,540,545],{"type":17,"tag":156,"props":531,"children":532},{"style":163},[533],{"type":23,"value":534},"int",{"type":17,"tag":156,"props":536,"children":537},{"style":168},[538],{"type":23,"value":539}," variable ",{"type":17,"tag":156,"props":541,"children":542},{"style":163},[543],{"type":23,"value":544},"=",{"type":17,"tag":156,"props":546,"children":548},{"style":547},"--shiki-default:#005CC5;--shiki-dark:#79B8FF",[549],{"type":23,"value":550}," 1\n",{"type":17,"tag":156,"props":552,"children":553},{"class":158,"line":35},[554],{"type":17,"tag":156,"props":555,"children":556},{"emptyLinePlaceholder":55},[557],{"type":23,"value":558},"\n",{"type":17,"tag":156,"props":560,"children":561},{"class":158,"line":183},[562,566],{"type":17,"tag":156,"props":563,"children":564},{"style":163},[565],{"type":23,"value":128},{"type":17,"tag":156,"props":567,"children":568},{"style":168},[569],{"type":23,"value":171},{"type":17,"tag":156,"props":571,"children":573},{"class":158,"line":572},4,[574,579,584],{"type":17,"tag":156,"props":575,"children":576},{"style":163},[577],{"type":23,"value":578},"    AIN",{"type":17,"tag":156,"props":580,"children":581},{"style":168},[582],{"type":23,"value":583}," @variable ",{"type":17,"tag":156,"props":585,"children":586},{"style":177},[587],{"type":23,"value":588},"// Read the value of a into register A\n",{"type":17,"tag":156,"props":590,"children":592},{"class":158,"line":591},5,[593,598,603],{"type":17,"tag":156,"props":594,"children":595},{"style":163},[596],{"type":23,"value":597},"    LDIB",{"type":17,"tag":156,"props":599,"children":600},{"style":547},[601],{"type":23,"value":602}," 1",{"type":17,"tag":156,"props":604,"children":605},{"style":177},[606],{"type":23,"value":607}," // Load the value 1 into register B\n",{"type":17,"tag":156,"props":609,"children":611},{"class":158,"line":610},6,[612,617],{"type":17,"tag":156,"props":613,"children":614},{"style":163},[615],{"type":23,"value":616},"    ADD",{"type":17,"tag":156,"props":618,"children":619},{"style":177},[620],{"type":23,"value":621}," // Add the value of register B to register A\n",{"type":17,"tag":156,"props":623,"children":625},{"class":158,"line":624},7,[626,631,635],{"type":17,"tag":156,"props":627,"children":628},{"style":163},[629],{"type":23,"value":630},"    STA",{"type":17,"tag":156,"props":632,"children":633},{"style":168},[634],{"type":23,"value":583},{"type":17,"tag":156,"props":636,"children":637},{"style":177},[638],{"type":23,"value":639},"// Store the value of register A into a\n",{"type":17,"tag":156,"props":641,"children":643},{"class":158,"line":642},8,[644],{"type":17,"tag":156,"props":645,"children":646},{"style":168},[647],{"type":23,"value":189},{"type":17,"tag":156,"props":649,"children":651},{"class":158,"line":650},9,[652],{"type":17,"tag":156,"props":653,"children":654},{"emptyLinePlaceholder":55},[655],{"type":23,"value":558},{"type":17,"tag":156,"props":657,"children":659},{"class":158,"line":658},10,[660],{"type":17,"tag":156,"props":661,"children":662},{"style":168},[663],{"type":23,"value":664},"variable\n",{"type":17,"tag":666,"props":667,"children":669},"h3",{"id":668},"labels",[670],{"type":23,"value":671},"Labels",{"type":17,"tag":25,"props":673,"children":674},{},[675],{"type":23,"value":676},"Labels are used to mark a location in the assembly code. They are used by jump instructions to jump to a specific location in the code.",{"type":17,"tag":25,"props":678,"children":679},{},[680,682,687],{"type":23,"value":681},"Labels are declared by writing the name of the label, followed by a colon (",{"type":17,"tag":124,"props":683,"children":684},{"className":7},[685],{"type":23,"value":686},":",{"type":23,"value":144},{"type":17,"tag":146,"props":689,"children":691},{"className":148,"code":690,"language":150,"meta":7,"style":7},"asm {\n    label:\n}\n",[692],{"type":17,"tag":124,"props":693,"children":694},{"__ignoreMap":7},[695,706,720],{"type":17,"tag":156,"props":696,"children":697},{"class":158,"line":159},[698,702],{"type":17,"tag":156,"props":699,"children":700},{"style":163},[701],{"type":23,"value":128},{"type":17,"tag":156,"props":703,"children":704},{"style":168},[705],{"type":23,"value":171},{"type":17,"tag":156,"props":707,"children":708},{"class":158,"line":35},[709,715],{"type":17,"tag":156,"props":710,"children":712},{"style":711},"--shiki-default:#6F42C1;--shiki-dark:#B392F0",[713],{"type":23,"value":714},"    label",{"type":17,"tag":156,"props":716,"children":717},{"style":168},[718],{"type":23,"value":719},":\n",{"type":17,"tag":156,"props":721,"children":722},{"class":158,"line":183},[723],{"type":17,"tag":156,"props":724,"children":725},{"style":168},[726],{"type":23,"value":189},{"type":17,"tag":25,"props":728,"children":729},{},[730,732,737],{"type":23,"value":731},"To jump to a label, use the ",{"type":17,"tag":124,"props":733,"children":734},{"className":7},[735],{"type":23,"value":736},"JMP",{"type":23,"value":738}," instruction:",{"type":17,"tag":146,"props":740,"children":742},{"className":148,"code":741,"language":150,"meta":7,"style":7},"asm {\n    label:\n    JMP label\n}\n",[743],{"type":17,"tag":124,"props":744,"children":745},{"__ignoreMap":7},[746,757,768,781],{"type":17,"tag":156,"props":747,"children":748},{"class":158,"line":159},[749,753],{"type":17,"tag":156,"props":750,"children":751},{"style":163},[752],{"type":23,"value":128},{"type":17,"tag":156,"props":754,"children":755},{"style":168},[756],{"type":23,"value":171},{"type":17,"tag":156,"props":758,"children":759},{"class":158,"line":35},[760,764],{"type":17,"tag":156,"props":761,"children":762},{"style":711},[763],{"type":23,"value":714},{"type":17,"tag":156,"props":765,"children":766},{"style":168},[767],{"type":23,"value":719},{"type":17,"tag":156,"props":769,"children":770},{"class":158,"line":183},[771,776],{"type":17,"tag":156,"props":772,"children":773},{"style":163},[774],{"type":23,"value":775},"    JMP",{"type":17,"tag":156,"props":777,"children":778},{"style":711},[779],{"type":23,"value":780}," label\n",{"type":17,"tag":156,"props":782,"children":783},{"class":158,"line":572},[784],{"type":17,"tag":156,"props":785,"children":786},{"style":168},[787],{"type":23,"value":189},{"type":17,"tag":789,"props":790,"children":791},"warning",{},[792],{"type":17,"tag":25,"props":793,"children":794},{},[795,801],{"type":17,"tag":796,"props":797,"children":798},"strong",{},[799],{"type":23,"value":800},"Note:",{"type":23,"value":802}," It is only possible to jump to labels that are declared in the same assembly block.",{"type":17,"tag":25,"props":804,"children":805},{},[806,808,813],{"type":23,"value":807},"You can also use labels to mark data and use ",{"type":17,"tag":124,"props":809,"children":810},{"className":7},[811],{"type":23,"value":812},"AIN",{"type":23,"value":814}," to load the address.",{"type":17,"tag":25,"props":816,"children":817},{},[818,820,825,827,831],{"type":23,"value":819},"For example, the following code will create a label called ",{"type":17,"tag":124,"props":821,"children":822},{"className":7},[823],{"type":23,"value":824},"data",{"type":23,"value":826}," and load the address of the label into register ",{"type":17,"tag":124,"props":828,"children":829},{"className":7},[830],{"type":23,"value":368},{"type":23,"value":686},{"type":17,"tag":146,"props":833,"children":835},{"className":148,"code":834,"filename":522,"language":150,"meta":7,"style":7},"int variable\n\nasm {\n    JMP program\n\n    data:\n    HERE 5\n\n    program:\n    AIN data\n    STA @variable\n}\n\nvariable\n",[836],{"type":17,"tag":124,"props":837,"children":838},{"__ignoreMap":7},[839,851,858,869,881,888,900,913,920,932,944,957,965,973],{"type":17,"tag":156,"props":840,"children":841},{"class":158,"line":159},[842,846],{"type":17,"tag":156,"props":843,"children":844},{"style":163},[845],{"type":23,"value":534},{"type":17,"tag":156,"props":847,"children":848},{"style":168},[849],{"type":23,"value":850}," variable\n",{"type":17,"tag":156,"props":852,"children":853},{"class":158,"line":35},[854],{"type":17,"tag":156,"props":855,"children":856},{"emptyLinePlaceholder":55},[857],{"type":23,"value":558},{"type":17,"tag":156,"props":859,"children":860},{"class":158,"line":183},[861,865],{"type":17,"tag":156,"props":862,"children":863},{"style":163},[864],{"type":23,"value":128},{"type":17,"tag":156,"props":866,"children":867},{"style":168},[868],{"type":23,"value":171},{"type":17,"tag":156,"props":870,"children":871},{"class":158,"line":572},[872,876],{"type":17,"tag":156,"props":873,"children":874},{"style":163},[875],{"type":23,"value":775},{"type":17,"tag":156,"props":877,"children":878},{"style":711},[879],{"type":23,"value":880}," program\n",{"type":17,"tag":156,"props":882,"children":883},{"class":158,"line":591},[884],{"type":17,"tag":156,"props":885,"children":886},{"emptyLinePlaceholder":55},[887],{"type":23,"value":558},{"type":17,"tag":156,"props":889,"children":890},{"class":158,"line":610},[891,896],{"type":17,"tag":156,"props":892,"children":893},{"style":711},[894],{"type":23,"value":895},"    data",{"type":17,"tag":156,"props":897,"children":898},{"style":168},[899],{"type":23,"value":719},{"type":17,"tag":156,"props":901,"children":902},{"class":158,"line":624},[903,908],{"type":17,"tag":156,"props":904,"children":905},{"style":163},[906],{"type":23,"value":907},"    HERE",{"type":17,"tag":156,"props":909,"children":910},{"style":547},[911],{"type":23,"value":912}," 5\n",{"type":17,"tag":156,"props":914,"children":915},{"class":158,"line":642},[916],{"type":17,"tag":156,"props":917,"children":918},{"emptyLinePlaceholder":55},[919],{"type":23,"value":558},{"type":17,"tag":156,"props":921,"children":922},{"class":158,"line":650},[923,928],{"type":17,"tag":156,"props":924,"children":925},{"style":711},[926],{"type":23,"value":927},"    program",{"type":17,"tag":156,"props":929,"children":930},{"style":168},[931],{"type":23,"value":719},{"type":17,"tag":156,"props":933,"children":934},{"class":158,"line":658},[935,939],{"type":17,"tag":156,"props":936,"children":937},{"style":163},[938],{"type":23,"value":578},{"type":17,"tag":156,"props":940,"children":941},{"style":711},[942],{"type":23,"value":943}," data\n",{"type":17,"tag":156,"props":945,"children":947},{"class":158,"line":946},11,[948,952],{"type":17,"tag":156,"props":949,"children":950},{"style":163},[951],{"type":23,"value":630},{"type":17,"tag":156,"props":953,"children":954},{"style":168},[955],{"type":23,"value":956}," @variable\n",{"type":17,"tag":156,"props":958,"children":960},{"class":158,"line":959},12,[961],{"type":17,"tag":156,"props":962,"children":963},{"style":168},[964],{"type":23,"value":189},{"type":17,"tag":156,"props":966,"children":968},{"class":158,"line":967},13,[969],{"type":17,"tag":156,"props":970,"children":971},{"emptyLinePlaceholder":55},[972],{"type":23,"value":558},{"type":17,"tag":156,"props":974,"children":976},{"class":158,"line":975},14,[977],{"type":17,"tag":156,"props":978,"children":979},{"style":168},[980],{"type":23,"value":664},{"type":17,"tag":982,"props":983,"children":984},"style",{},[985],{"type":23,"value":986},"html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":7,"searchDepth":35,"depth":35,"links":988},[989,990,991],{"id":198,"depth":35,"text":201},{"id":279,"depth":35,"text":282},{"id":503,"depth":35,"text":506,"children":992},[993],{"id":668,"depth":183,"text":671},"content:docs:5.advanced-topics:1.assembly-mode.md","docs/5.advanced-topics/1.assembly-mode.md",{"_path":92,"_dir":20,"_draft":6,"_partial":6,"_locale":7,"title":91,"description":997,"tags":998,"navigation":999,"body":1000,"_type":37,"_id":2063,"_source":39,"_file":2064,"_extension":41},"Learn how to optimize your program.",[20],{"sidebar":55},{"type":14,"children":1001,"toc":2059},[1002,1007,1012,1018,1023,1028,1067,1072,1113,1118,1137,1143,1155,1168,1173,1399,1404,1751,1762,1971,1976,1981,2055],{"type":17,"tag":18,"props":1003,"children":1005},{"id":1004},"optimizing",[1006],{"type":23,"value":91},{"type":17,"tag":25,"props":1008,"children":1009},{},[1010],{"type":23,"value":1011},"This section contains tips and tricks for optimizing your program.",{"type":17,"tag":196,"props":1013,"children":1015},{"id":1014},"constant-values",[1016],{"type":23,"value":1017},"Constant values",{"type":17,"tag":25,"props":1019,"children":1020},{},[1021],{"type":23,"value":1022},"Before the compiler compiles the code to assembly, it will try to replace all constant values with their actual value.",{"type":17,"tag":25,"props":1024,"children":1025},{},[1026],{"type":23,"value":1027},"For example, let's say we have the following code:",{"type":17,"tag":146,"props":1029,"children":1032},{"className":148,"code":1030,"filename":522,"highlights":1031,"language":150,"meta":7,"style":7},"var a = 1 + 2\n",[183],[1033],{"type":17,"tag":124,"props":1034,"children":1035},{"__ignoreMap":7},[1036],{"type":17,"tag":156,"props":1037,"children":1038},{"class":158,"line":159},[1039,1044,1049,1053,1057,1062],{"type":17,"tag":156,"props":1040,"children":1041},{"style":163},[1042],{"type":23,"value":1043},"var",{"type":17,"tag":156,"props":1045,"children":1046},{"style":168},[1047],{"type":23,"value":1048}," a ",{"type":17,"tag":156,"props":1050,"children":1051},{"style":163},[1052],{"type":23,"value":544},{"type":17,"tag":156,"props":1054,"children":1055},{"style":547},[1056],{"type":23,"value":602},{"type":17,"tag":156,"props":1058,"children":1059},{"style":163},[1060],{"type":23,"value":1061}," +",{"type":17,"tag":156,"props":1063,"children":1064},{"style":547},[1065],{"type":23,"value":1066}," 2\n",{"type":17,"tag":25,"props":1068,"children":1069},{},[1070],{"type":23,"value":1071},"Without optimizing, the compiler will generate the following assembly code:",{"type":17,"tag":146,"props":1073,"children":1077},{"className":1074,"code":1075,"language":1076,"meta":7,"style":7},"language-a8 shiki shiki-themes github-light github-dark","LDIA 1\nLDIB 2\nADD\n","a8",[1078],{"type":17,"tag":124,"props":1079,"children":1080},{"__ignoreMap":7},[1081,1093,1105],{"type":17,"tag":156,"props":1082,"children":1083},{"class":158,"line":159},[1084,1089],{"type":17,"tag":156,"props":1085,"children":1086},{"style":163},[1087],{"type":23,"value":1088},"LDIA",{"type":17,"tag":156,"props":1090,"children":1091},{"style":547},[1092],{"type":23,"value":550},{"type":17,"tag":156,"props":1094,"children":1095},{"class":158,"line":35},[1096,1101],{"type":17,"tag":156,"props":1097,"children":1098},{"style":163},[1099],{"type":23,"value":1100},"LDIB",{"type":17,"tag":156,"props":1102,"children":1103},{"style":547},[1104],{"type":23,"value":1066},{"type":17,"tag":156,"props":1106,"children":1107},{"class":158,"line":183},[1108],{"type":17,"tag":156,"props":1109,"children":1110},{"style":163},[1111],{"type":23,"value":1112},"ADD\n",{"type":17,"tag":25,"props":1114,"children":1115},{},[1116],{"type":23,"value":1117},"With optimizing, the compiler will replace the constant values with their actual value, and the generated assembly code will be:",{"type":17,"tag":146,"props":1119,"children":1121},{"className":1074,"code":1120,"language":1076,"meta":7,"style":7},"LDIA 3\n",[1122],{"type":17,"tag":124,"props":1123,"children":1124},{"__ignoreMap":7},[1125],{"type":17,"tag":156,"props":1126,"children":1127},{"class":158,"line":159},[1128,1132],{"type":17,"tag":156,"props":1129,"children":1130},{"style":163},[1131],{"type":23,"value":1088},{"type":17,"tag":156,"props":1133,"children":1134},{"style":547},[1135],{"type":23,"value":1136}," 3\n",{"type":17,"tag":196,"props":1138,"children":1140},{"id":1139},"inline-functions",[1141],{"type":23,"value":1142},"Inline functions",{"type":17,"tag":25,"props":1144,"children":1145},{},[1146,1148,1153],{"type":23,"value":1147},"When you declare a function with ",{"type":17,"tag":124,"props":1149,"children":1150},{"className":7},[1151],{"type":23,"value":1152},"inline",{"type":23,"value":1154},", the compiler will replace all calls to the function with the function body.",{"type":17,"tag":25,"props":1156,"children":1157},{},[1158,1160,1166],{"type":23,"value":1159},"Together with ",{"type":17,"tag":289,"props":1161,"children":1163},{"href":1162},"#constant-values",[1164],{"type":23,"value":1165},"constant values",{"type":23,"value":1167},", this can drastically reduce the size of your program.",{"type":17,"tag":25,"props":1169,"children":1170},{},[1171],{"type":23,"value":1172},"For example, let's create a program that sets the first pixel on the screen to red:",{"type":17,"tag":146,"props":1174,"children":1176},{"className":148,"code":1175,"filename":522,"language":150,"meta":7,"style":7},"var screen = create_pointer(53870, 1)\n\nint get_color(int r, int g, int b) => (r / 8 \u003C\u003C 10) + (g / 8 \u003C\u003C 5) + (b / 8);\n\nscreen[0] = get_color(255, 0, 0)\n",[1177],{"type":17,"tag":124,"props":1178,"children":1179},{"__ignoreMap":7},[1180,1221,1228,1341,1348],{"type":17,"tag":156,"props":1181,"children":1182},{"class":158,"line":159},[1183,1187,1192,1196,1201,1206,1211,1216],{"type":17,"tag":156,"props":1184,"children":1185},{"style":163},[1186],{"type":23,"value":1043},{"type":17,"tag":156,"props":1188,"children":1189},{"style":168},[1190],{"type":23,"value":1191}," screen ",{"type":17,"tag":156,"props":1193,"children":1194},{"style":163},[1195],{"type":23,"value":544},{"type":17,"tag":156,"props":1197,"children":1198},{"style":168},[1199],{"type":23,"value":1200}," create_pointer(",{"type":17,"tag":156,"props":1202,"children":1203},{"style":547},[1204],{"type":23,"value":1205},"53870",{"type":17,"tag":156,"props":1207,"children":1208},{"style":168},[1209],{"type":23,"value":1210},", ",{"type":17,"tag":156,"props":1212,"children":1213},{"style":547},[1214],{"type":23,"value":1215},"1",{"type":17,"tag":156,"props":1217,"children":1218},{"style":168},[1219],{"type":23,"value":1220},")\n",{"type":17,"tag":156,"props":1222,"children":1223},{"class":158,"line":35},[1224],{"type":17,"tag":156,"props":1225,"children":1226},{"emptyLinePlaceholder":55},[1227],{"type":23,"value":558},{"type":17,"tag":156,"props":1229,"children":1230},{"class":158,"line":183},[1231,1235,1240,1244,1249,1253,1258,1262,1267,1271,1276,1281,1286,1291,1296,1301,1306,1310,1314,1319,1323,1327,1332,1336],{"type":17,"tag":156,"props":1232,"children":1233},{"style":163},[1234],{"type":23,"value":534},{"type":17,"tag":156,"props":1236,"children":1237},{"style":168},[1238],{"type":23,"value":1239}," get_color(",{"type":17,"tag":156,"props":1241,"children":1242},{"style":163},[1243],{"type":23,"value":534},{"type":17,"tag":156,"props":1245,"children":1246},{"style":168},[1247],{"type":23,"value":1248}," r, ",{"type":17,"tag":156,"props":1250,"children":1251},{"style":163},[1252],{"type":23,"value":534},{"type":17,"tag":156,"props":1254,"children":1255},{"style":168},[1256],{"type":23,"value":1257}," g, ",{"type":17,"tag":156,"props":1259,"children":1260},{"style":163},[1261],{"type":23,"value":534},{"type":17,"tag":156,"props":1263,"children":1264},{"style":168},[1265],{"type":23,"value":1266}," b) ",{"type":17,"tag":156,"props":1268,"children":1269},{"style":163},[1270],{"type":23,"value":544},{"type":17,"tag":156,"props":1272,"children":1273},{"style":168},[1274],{"type":23,"value":1275},"> (r / ",{"type":17,"tag":156,"props":1277,"children":1278},{"style":547},[1279],{"type":23,"value":1280},"8",{"type":17,"tag":156,"props":1282,"children":1283},{"style":168},[1284],{"type":23,"value":1285}," \u003C\u003C ",{"type":17,"tag":156,"props":1287,"children":1288},{"style":547},[1289],{"type":23,"value":1290},"10",{"type":17,"tag":156,"props":1292,"children":1293},{"style":168},[1294],{"type":23,"value":1295},") ",{"type":17,"tag":156,"props":1297,"children":1298},{"style":163},[1299],{"type":23,"value":1300},"+",{"type":17,"tag":156,"props":1302,"children":1303},{"style":168},[1304],{"type":23,"value":1305}," (g / ",{"type":17,"tag":156,"props":1307,"children":1308},{"style":547},[1309],{"type":23,"value":1280},{"type":17,"tag":156,"props":1311,"children":1312},{"style":168},[1313],{"type":23,"value":1285},{"type":17,"tag":156,"props":1315,"children":1316},{"style":547},[1317],{"type":23,"value":1318},"5",{"type":17,"tag":156,"props":1320,"children":1321},{"style":168},[1322],{"type":23,"value":1295},{"type":17,"tag":156,"props":1324,"children":1325},{"style":163},[1326],{"type":23,"value":1300},{"type":17,"tag":156,"props":1328,"children":1329},{"style":168},[1330],{"type":23,"value":1331}," (b / ",{"type":17,"tag":156,"props":1333,"children":1334},{"style":547},[1335],{"type":23,"value":1280},{"type":17,"tag":156,"props":1337,"children":1338},{"style":168},[1339],{"type":23,"value":1340},");\n",{"type":17,"tag":156,"props":1342,"children":1343},{"class":158,"line":572},[1344],{"type":17,"tag":156,"props":1345,"children":1346},{"emptyLinePlaceholder":55},[1347],{"type":23,"value":558},{"type":17,"tag":156,"props":1349,"children":1350},{"class":158,"line":591},[1351,1356,1361,1366,1370,1374,1379,1383,1387,1391,1395],{"type":17,"tag":156,"props":1352,"children":1353},{"style":168},[1354],{"type":23,"value":1355},"screen[",{"type":17,"tag":156,"props":1357,"children":1358},{"style":547},[1359],{"type":23,"value":1360},"0",{"type":17,"tag":156,"props":1362,"children":1363},{"style":168},[1364],{"type":23,"value":1365},"] ",{"type":17,"tag":156,"props":1367,"children":1368},{"style":163},[1369],{"type":23,"value":544},{"type":17,"tag":156,"props":1371,"children":1372},{"style":168},[1373],{"type":23,"value":1239},{"type":17,"tag":156,"props":1375,"children":1376},{"style":547},[1377],{"type":23,"value":1378},"255",{"type":17,"tag":156,"props":1380,"children":1381},{"style":168},[1382],{"type":23,"value":1210},{"type":17,"tag":156,"props":1384,"children":1385},{"style":547},[1386],{"type":23,"value":1360},{"type":17,"tag":156,"props":1388,"children":1389},{"style":168},[1390],{"type":23,"value":1210},{"type":17,"tag":156,"props":1392,"children":1393},{"style":547},[1394],{"type":23,"value":1360},{"type":17,"tag":156,"props":1396,"children":1397},{"style":168},[1398],{"type":23,"value":1220},{"type":17,"tag":25,"props":1400,"children":1401},{},[1402],{"type":23,"value":1403},"This will produce the following assembly code. Note, this is without the function body:",{"type":17,"tag":146,"props":1405,"children":1407},{"className":1074,"code":1406,"language":1076,"meta":7,"style":7},", Prepare the stack and call the function\nLDW\nHERE 132 , Label L6\nSWPC\nLDW\nHERE 140 , Label L5\nSTA 24\nBIN 24\nJMP\nHERE 25 , Yabal:call\n\n, Label L6: Prepare arguments\nLDIA 255\nSTA 7 , [Stack:0]\nLDIA 0\nSTA 8 , [Stack:1]\nLDIA 0\nSTA 9 , [Stack:2]\nJMP\nHERE 91\n\n, Label L5: Return, load the return value and update the screen\nAIN 12 , Yabal:return_value\nSWP\nLDW\nHERE 53871\nBNK 1\nSTAOUT\nBNK 0\n",[1408],{"type":17,"tag":124,"props":1409,"children":1410},{"__ignoreMap":7},[1411,1419,1427,1444,1452,1459,1476,1489,1501,1509,1526,1533,1541,1553,1570,1583,1601,1613,1631,1639,1652,1660,1669,1687,1696,1704,1717,1730,1739],{"type":17,"tag":156,"props":1412,"children":1413},{"class":158,"line":159},[1414],{"type":17,"tag":156,"props":1415,"children":1416},{"style":177},[1417],{"type":23,"value":1418},", Prepare the stack and call the function\n",{"type":17,"tag":156,"props":1420,"children":1421},{"class":158,"line":35},[1422],{"type":17,"tag":156,"props":1423,"children":1424},{"style":163},[1425],{"type":23,"value":1426},"LDW\n",{"type":17,"tag":156,"props":1428,"children":1429},{"class":158,"line":183},[1430,1434,1439],{"type":17,"tag":156,"props":1431,"children":1432},{"style":163},[1433],{"type":23,"value":342},{"type":17,"tag":156,"props":1435,"children":1436},{"style":547},[1437],{"type":23,"value":1438}," 132",{"type":17,"tag":156,"props":1440,"children":1441},{"style":177},[1442],{"type":23,"value":1443}," , Label L6\n",{"type":17,"tag":156,"props":1445,"children":1446},{"class":158,"line":572},[1447],{"type":17,"tag":156,"props":1448,"children":1449},{"style":163},[1450],{"type":23,"value":1451},"SWPC\n",{"type":17,"tag":156,"props":1453,"children":1454},{"class":158,"line":591},[1455],{"type":17,"tag":156,"props":1456,"children":1457},{"style":163},[1458],{"type":23,"value":1426},{"type":17,"tag":156,"props":1460,"children":1461},{"class":158,"line":610},[1462,1466,1471],{"type":17,"tag":156,"props":1463,"children":1464},{"style":163},[1465],{"type":23,"value":342},{"type":17,"tag":156,"props":1467,"children":1468},{"style":547},[1469],{"type":23,"value":1470}," 140",{"type":17,"tag":156,"props":1472,"children":1473},{"style":177},[1474],{"type":23,"value":1475}," , Label L5\n",{"type":17,"tag":156,"props":1477,"children":1478},{"class":158,"line":624},[1479,1484],{"type":17,"tag":156,"props":1480,"children":1481},{"style":163},[1482],{"type":23,"value":1483},"STA",{"type":17,"tag":156,"props":1485,"children":1486},{"style":547},[1487],{"type":23,"value":1488}," 24\n",{"type":17,"tag":156,"props":1490,"children":1491},{"class":158,"line":642},[1492,1497],{"type":17,"tag":156,"props":1493,"children":1494},{"style":163},[1495],{"type":23,"value":1496},"BIN",{"type":17,"tag":156,"props":1498,"children":1499},{"style":547},[1500],{"type":23,"value":1488},{"type":17,"tag":156,"props":1502,"children":1503},{"class":158,"line":650},[1504],{"type":17,"tag":156,"props":1505,"children":1506},{"style":163},[1507],{"type":23,"value":1508},"JMP\n",{"type":17,"tag":156,"props":1510,"children":1511},{"class":158,"line":658},[1512,1516,1521],{"type":17,"tag":156,"props":1513,"children":1514},{"style":163},[1515],{"type":23,"value":342},{"type":17,"tag":156,"props":1517,"children":1518},{"style":547},[1519],{"type":23,"value":1520}," 25",{"type":17,"tag":156,"props":1522,"children":1523},{"style":177},[1524],{"type":23,"value":1525}," , Yabal:call\n",{"type":17,"tag":156,"props":1527,"children":1528},{"class":158,"line":946},[1529],{"type":17,"tag":156,"props":1530,"children":1531},{"emptyLinePlaceholder":55},[1532],{"type":23,"value":558},{"type":17,"tag":156,"props":1534,"children":1535},{"class":158,"line":959},[1536],{"type":17,"tag":156,"props":1537,"children":1538},{"style":177},[1539],{"type":23,"value":1540},", Label L6: Prepare arguments\n",{"type":17,"tag":156,"props":1542,"children":1543},{"class":158,"line":967},[1544,1548],{"type":17,"tag":156,"props":1545,"children":1546},{"style":163},[1547],{"type":23,"value":1088},{"type":17,"tag":156,"props":1549,"children":1550},{"style":547},[1551],{"type":23,"value":1552}," 255\n",{"type":17,"tag":156,"props":1554,"children":1555},{"class":158,"line":975},[1556,1560,1565],{"type":17,"tag":156,"props":1557,"children":1558},{"style":163},[1559],{"type":23,"value":1483},{"type":17,"tag":156,"props":1561,"children":1562},{"style":547},[1563],{"type":23,"value":1564}," 7",{"type":17,"tag":156,"props":1566,"children":1567},{"style":177},[1568],{"type":23,"value":1569}," , [Stack:0]\n",{"type":17,"tag":156,"props":1571,"children":1573},{"class":158,"line":1572},15,[1574,1578],{"type":17,"tag":156,"props":1575,"children":1576},{"style":163},[1577],{"type":23,"value":1088},{"type":17,"tag":156,"props":1579,"children":1580},{"style":547},[1581],{"type":23,"value":1582}," 0\n",{"type":17,"tag":156,"props":1584,"children":1586},{"class":158,"line":1585},16,[1587,1591,1596],{"type":17,"tag":156,"props":1588,"children":1589},{"style":163},[1590],{"type":23,"value":1483},{"type":17,"tag":156,"props":1592,"children":1593},{"style":547},[1594],{"type":23,"value":1595}," 8",{"type":17,"tag":156,"props":1597,"children":1598},{"style":177},[1599],{"type":23,"value":1600}," , [Stack:1]\n",{"type":17,"tag":156,"props":1602,"children":1604},{"class":158,"line":1603},17,[1605,1609],{"type":17,"tag":156,"props":1606,"children":1607},{"style":163},[1608],{"type":23,"value":1088},{"type":17,"tag":156,"props":1610,"children":1611},{"style":547},[1612],{"type":23,"value":1582},{"type":17,"tag":156,"props":1614,"children":1616},{"class":158,"line":1615},18,[1617,1621,1626],{"type":17,"tag":156,"props":1618,"children":1619},{"style":163},[1620],{"type":23,"value":1483},{"type":17,"tag":156,"props":1622,"children":1623},{"style":547},[1624],{"type":23,"value":1625}," 9",{"type":17,"tag":156,"props":1627,"children":1628},{"style":177},[1629],{"type":23,"value":1630}," , [Stack:2]\n",{"type":17,"tag":156,"props":1632,"children":1634},{"class":158,"line":1633},19,[1635],{"type":17,"tag":156,"props":1636,"children":1637},{"style":163},[1638],{"type":23,"value":1508},{"type":17,"tag":156,"props":1640,"children":1642},{"class":158,"line":1641},20,[1643,1647],{"type":17,"tag":156,"props":1644,"children":1645},{"style":163},[1646],{"type":23,"value":342},{"type":17,"tag":156,"props":1648,"children":1649},{"style":547},[1650],{"type":23,"value":1651}," 91\n",{"type":17,"tag":156,"props":1653,"children":1655},{"class":158,"line":1654},21,[1656],{"type":17,"tag":156,"props":1657,"children":1658},{"emptyLinePlaceholder":55},[1659],{"type":23,"value":558},{"type":17,"tag":156,"props":1661,"children":1663},{"class":158,"line":1662},22,[1664],{"type":17,"tag":156,"props":1665,"children":1666},{"style":177},[1667],{"type":23,"value":1668},", Label L5: Return, load the return value and update the screen\n",{"type":17,"tag":156,"props":1670,"children":1672},{"class":158,"line":1671},23,[1673,1677,1682],{"type":17,"tag":156,"props":1674,"children":1675},{"style":163},[1676],{"type":23,"value":812},{"type":17,"tag":156,"props":1678,"children":1679},{"style":547},[1680],{"type":23,"value":1681}," 12",{"type":17,"tag":156,"props":1683,"children":1684},{"style":177},[1685],{"type":23,"value":1686}," , Yabal:return_value\n",{"type":17,"tag":156,"props":1688,"children":1690},{"class":158,"line":1689},24,[1691],{"type":17,"tag":156,"props":1692,"children":1693},{"style":163},[1694],{"type":23,"value":1695},"SWP\n",{"type":17,"tag":156,"props":1697,"children":1699},{"class":158,"line":1698},25,[1700],{"type":17,"tag":156,"props":1701,"children":1702},{"style":163},[1703],{"type":23,"value":1426},{"type":17,"tag":156,"props":1705,"children":1707},{"class":158,"line":1706},26,[1708,1712],{"type":17,"tag":156,"props":1709,"children":1710},{"style":163},[1711],{"type":23,"value":342},{"type":17,"tag":156,"props":1713,"children":1714},{"style":547},[1715],{"type":23,"value":1716}," 53871\n",{"type":17,"tag":156,"props":1718,"children":1720},{"class":158,"line":1719},27,[1721,1726],{"type":17,"tag":156,"props":1722,"children":1723},{"style":163},[1724],{"type":23,"value":1725},"BNK",{"type":17,"tag":156,"props":1727,"children":1728},{"style":547},[1729],{"type":23,"value":550},{"type":17,"tag":156,"props":1731,"children":1733},{"class":158,"line":1732},28,[1734],{"type":17,"tag":156,"props":1735,"children":1736},{"style":163},[1737],{"type":23,"value":1738},"STAOUT\n",{"type":17,"tag":156,"props":1740,"children":1742},{"class":158,"line":1741},29,[1743,1747],{"type":17,"tag":156,"props":1744,"children":1745},{"style":163},[1746],{"type":23,"value":1725},{"type":17,"tag":156,"props":1748,"children":1749},{"style":547},[1750],{"type":23,"value":1582},{"type":17,"tag":25,"props":1752,"children":1753},{},[1754,1756,1760],{"type":23,"value":1755},"If we change the function to ",{"type":17,"tag":124,"props":1757,"children":1758},{"className":7},[1759],{"type":23,"value":1152},{"type":23,"value":1761},", the compiler will replace all calls to the function with the function body:",{"type":17,"tag":146,"props":1763,"children":1766},{"className":148,"code":1764,"filename":522,"highlights":1765,"language":150,"meta":7,"style":7},"var screen = create_pointer(53870, 1)\n\ninline int get_color(int r, int g, int b) => (r / 8 \u003C\u003C 10) + (g / 8 \u003C\u003C 5) + (b / 8);\n\nscreen[0] = get_color(255, 0, 0)\n",[183],[1767],{"type":17,"tag":124,"props":1768,"children":1769},{"__ignoreMap":7},[1770,1805,1812,1917,1924],{"type":17,"tag":156,"props":1771,"children":1772},{"class":158,"line":159},[1773,1777,1781,1785,1789,1793,1797,1801],{"type":17,"tag":156,"props":1774,"children":1775},{"style":163},[1776],{"type":23,"value":1043},{"type":17,"tag":156,"props":1778,"children":1779},{"style":168},[1780],{"type":23,"value":1191},{"type":17,"tag":156,"props":1782,"children":1783},{"style":163},[1784],{"type":23,"value":544},{"type":17,"tag":156,"props":1786,"children":1787},{"style":168},[1788],{"type":23,"value":1200},{"type":17,"tag":156,"props":1790,"children":1791},{"style":547},[1792],{"type":23,"value":1205},{"type":17,"tag":156,"props":1794,"children":1795},{"style":168},[1796],{"type":23,"value":1210},{"type":17,"tag":156,"props":1798,"children":1799},{"style":547},[1800],{"type":23,"value":1215},{"type":17,"tag":156,"props":1802,"children":1803},{"style":168},[1804],{"type":23,"value":1220},{"type":17,"tag":156,"props":1806,"children":1807},{"class":158,"line":35},[1808],{"type":17,"tag":156,"props":1809,"children":1810},{"emptyLinePlaceholder":55},[1811],{"type":23,"value":558},{"type":17,"tag":156,"props":1813,"children":1815},{"class":1814,"line":183},"line highlight",[1816,1820,1825,1829,1833,1837,1841,1845,1849,1853,1857,1861,1865,1869,1873,1877,1881,1885,1889,1893,1897,1901,1905,1909,1913],{"type":17,"tag":156,"props":1817,"children":1818},{"style":163},[1819],{"type":23,"value":1152},{"type":17,"tag":156,"props":1821,"children":1822},{"style":163},[1823],{"type":23,"value":1824}," int",{"type":17,"tag":156,"props":1826,"children":1827},{"style":168},[1828],{"type":23,"value":1239},{"type":17,"tag":156,"props":1830,"children":1831},{"style":163},[1832],{"type":23,"value":534},{"type":17,"tag":156,"props":1834,"children":1835},{"style":168},[1836],{"type":23,"value":1248},{"type":17,"tag":156,"props":1838,"children":1839},{"style":163},[1840],{"type":23,"value":534},{"type":17,"tag":156,"props":1842,"children":1843},{"style":168},[1844],{"type":23,"value":1257},{"type":17,"tag":156,"props":1846,"children":1847},{"style":163},[1848],{"type":23,"value":534},{"type":17,"tag":156,"props":1850,"children":1851},{"style":168},[1852],{"type":23,"value":1266},{"type":17,"tag":156,"props":1854,"children":1855},{"style":163},[1856],{"type":23,"value":544},{"type":17,"tag":156,"props":1858,"children":1859},{"style":168},[1860],{"type":23,"value":1275},{"type":17,"tag":156,"props":1862,"children":1863},{"style":547},[1864],{"type":23,"value":1280},{"type":17,"tag":156,"props":1866,"children":1867},{"style":168},[1868],{"type":23,"value":1285},{"type":17,"tag":156,"props":1870,"children":1871},{"style":547},[1872],{"type":23,"value":1290},{"type":17,"tag":156,"props":1874,"children":1875},{"style":168},[1876],{"type":23,"value":1295},{"type":17,"tag":156,"props":1878,"children":1879},{"style":163},[1880],{"type":23,"value":1300},{"type":17,"tag":156,"props":1882,"children":1883},{"style":168},[1884],{"type":23,"value":1305},{"type":17,"tag":156,"props":1886,"children":1887},{"style":547},[1888],{"type":23,"value":1280},{"type":17,"tag":156,"props":1890,"children":1891},{"style":168},[1892],{"type":23,"value":1285},{"type":17,"tag":156,"props":1894,"children":1895},{"style":547},[1896],{"type":23,"value":1318},{"type":17,"tag":156,"props":1898,"children":1899},{"style":168},[1900],{"type":23,"value":1295},{"type":17,"tag":156,"props":1902,"children":1903},{"style":163},[1904],{"type":23,"value":1300},{"type":17,"tag":156,"props":1906,"children":1907},{"style":168},[1908],{"type":23,"value":1331},{"type":17,"tag":156,"props":1910,"children":1911},{"style":547},[1912],{"type":23,"value":1280},{"type":17,"tag":156,"props":1914,"children":1915},{"style":168},[1916],{"type":23,"value":1340},{"type":17,"tag":156,"props":1918,"children":1919},{"class":158,"line":572},[1920],{"type":17,"tag":156,"props":1921,"children":1922},{"emptyLinePlaceholder":55},[1923],{"type":23,"value":558},{"type":17,"tag":156,"props":1925,"children":1926},{"class":158,"line":591},[1927,1931,1935,1939,1943,1947,1951,1955,1959,1963,1967],{"type":17,"tag":156,"props":1928,"children":1929},{"style":168},[1930],{"type":23,"value":1355},{"type":17,"tag":156,"props":1932,"children":1933},{"style":547},[1934],{"type":23,"value":1360},{"type":17,"tag":156,"props":1936,"children":1937},{"style":168},[1938],{"type":23,"value":1365},{"type":17,"tag":156,"props":1940,"children":1941},{"style":163},[1942],{"type":23,"value":544},{"type":17,"tag":156,"props":1944,"children":1945},{"style":168},[1946],{"type":23,"value":1239},{"type":17,"tag":156,"props":1948,"children":1949},{"style":547},[1950],{"type":23,"value":1378},{"type":17,"tag":156,"props":1952,"children":1953},{"style":168},[1954],{"type":23,"value":1210},{"type":17,"tag":156,"props":1956,"children":1957},{"style":547},[1958],{"type":23,"value":1360},{"type":17,"tag":156,"props":1960,"children":1961},{"style":168},[1962],{"type":23,"value":1210},{"type":17,"tag":156,"props":1964,"children":1965},{"style":547},[1966],{"type":23,"value":1360},{"type":17,"tag":156,"props":1968,"children":1969},{"style":168},[1970],{"type":23,"value":1220},{"type":17,"tag":25,"props":1972,"children":1973},{},[1974],{"type":23,"value":1975},"Because the parameter values are constant, the compiler can calculate the result at compile time, and replace the inline function call with the result.",{"type":17,"tag":25,"props":1977,"children":1978},{},[1979],{"type":23,"value":1980},"This will produce the following assembly code:",{"type":17,"tag":146,"props":1982,"children":1984},{"className":1074,"code":1983,"language":1076,"meta":7,"style":7},"LDIA 992\nSWP\nLDW\nHERE 53872\nBNK 1\nSTAOUT\nBNK 0\n",[1985],{"type":17,"tag":124,"props":1986,"children":1987},{"__ignoreMap":7},[1988,2000,2007,2014,2026,2037,2044],{"type":17,"tag":156,"props":1989,"children":1990},{"class":158,"line":159},[1991,1995],{"type":17,"tag":156,"props":1992,"children":1993},{"style":163},[1994],{"type":23,"value":1088},{"type":17,"tag":156,"props":1996,"children":1997},{"style":547},[1998],{"type":23,"value":1999}," 992\n",{"type":17,"tag":156,"props":2001,"children":2002},{"class":158,"line":35},[2003],{"type":17,"tag":156,"props":2004,"children":2005},{"style":163},[2006],{"type":23,"value":1695},{"type":17,"tag":156,"props":2008,"children":2009},{"class":158,"line":183},[2010],{"type":17,"tag":156,"props":2011,"children":2012},{"style":163},[2013],{"type":23,"value":1426},{"type":17,"tag":156,"props":2015,"children":2016},{"class":158,"line":572},[2017,2021],{"type":17,"tag":156,"props":2018,"children":2019},{"style":163},[2020],{"type":23,"value":342},{"type":17,"tag":156,"props":2022,"children":2023},{"style":547},[2024],{"type":23,"value":2025}," 53872\n",{"type":17,"tag":156,"props":2027,"children":2028},{"class":158,"line":591},[2029,2033],{"type":17,"tag":156,"props":2030,"children":2031},{"style":163},[2032],{"type":23,"value":1725},{"type":17,"tag":156,"props":2034,"children":2035},{"style":547},[2036],{"type":23,"value":550},{"type":17,"tag":156,"props":2038,"children":2039},{"class":158,"line":610},[2040],{"type":17,"tag":156,"props":2041,"children":2042},{"style":163},[2043],{"type":23,"value":1738},{"type":17,"tag":156,"props":2045,"children":2046},{"class":158,"line":624},[2047,2051],{"type":17,"tag":156,"props":2048,"children":2049},{"style":163},[2050],{"type":23,"value":1725},{"type":17,"tag":156,"props":2052,"children":2053},{"style":547},[2054],{"type":23,"value":1582},{"type":17,"tag":982,"props":2056,"children":2057},{},[2058],{"type":23,"value":986},{"title":7,"searchDepth":35,"depth":35,"links":2060},[2061,2062],{"id":1014,"depth":35,"text":1017},{"id":1139,"depth":35,"text":1142},"content:docs:5.advanced-topics:2.optimizing.md","docs/5.advanced-topics/2.optimizing.md",1702090521791]