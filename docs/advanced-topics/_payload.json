[{"data":1,"prerenderedAt":2063},["Reactive",2],{"content-query-YXzPKDkeos":3,"content-navigation-8C37fagqQL":42,"content-navigation-FUh909p6pk":88,"content-query-zix1ut1RP2":96,"content-query-GvZFZA3PoP":995},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"tags":10,"navigation":12,"body":13,"_type":37,"_id":38,"_source":39,"_file":40,"_extension":41},"/docs/advanced-topics","docs",false,"","Advanced topics","Learn about the advanced features of Yabal.",[11],"index",{"sidebar":6},{"type":14,"children":15,"toc":34},"root",[16,24,30],{"type":17,"tag":18,"props":19,"children":21},"element","h1",{"id":20},"advanced-topics",[22],{"type":23,"value":8},"text",{"type":17,"tag":25,"props":26,"children":27},"p",{},[28],{"type":23,"value":29},"This section contains more advanced topics about Yabal.",{"type":17,"tag":31,"props":32,"children":33},"related",{":tags":20},[],{"title":7,"searchDepth":35,"depth":35,"links":36},2,[],"markdown","content:docs:5.advanced-topics:index.md","content","docs/5.advanced-topics/index.md","md",[43],{"title":44,"_path":45,"children":46,"root":55},"Documentation","/docs",[47,48,63,71,79],{"title":44,"_path":45},{"title":49,"_path":50,"children":51,"sidebar":6},"Getting started","/docs/get-started",[52,56,59,62],{"title":53,"_path":54,"sidebar":55},"Downloads","/docs/get-started/downloads",true,{"title":57,"_path":58,"sidebar":55},"Emulator","/docs/get-started/emulator",{"title":60,"_path":61,"sidebar":55},"Basics of Yabal","/docs/get-started/basics-of-yabal",{"title":49,"_path":50,"sidebar":6},{"title":64,"_path":65,"children":66,"sidebar":6},"Language reference","/docs/language-reference",[67,70],{"title":68,"_path":69,"sidebar":55},"Structs","/docs/language-reference/structs",{"title":64,"_path":65,"sidebar":6},{"title":72,"_path":73,"children":74,"sidebar":6},"Perhipherals","/docs/peripherals",[75,78],{"title":76,"_path":77,"sidebar":55},"Screen","/docs/peripherals/screen",{"title":72,"_path":73,"sidebar":6},{"title":8,"_path":4,"children":80,"sidebar":6},[81,84,87],{"title":82,"_path":83,"sidebar":55},"Assembly mode","/docs/advanced-topics/assembly-mode",{"title":85,"_path":86,"sidebar":55},"Optimizing","/docs/advanced-topics/optimizing",{"title":8,"_path":4,"sidebar":6},[89],{"title":44,"_path":45,"children":90,"root":55},[91],{"title":92,"_path":4,"children":93},"Advanced Topics",[94,95],{"title":82,"_path":83,"sidebar":55},{"title":85,"_path":86,"sidebar":55},{"_path":83,"_dir":20,"_draft":6,"_partial":6,"_locale":7,"title":82,"description":97,"tags":98,"navigation":99,"body":100,"_type":37,"_id":993,"_source":39,"_file":994,"_extension":41},"Learn how to write raw assembly code in Yabal.",[20],{"sidebar":55},{"type":14,"children":101,"toc":986},[102,107,112,139,184,189,196,221,233,266,271,277,293,298,495,501,513,659,666,671,682,721,733,782,797,809,820,969,980],{"type":17,"tag":18,"props":103,"children":105},{"id":104},"assembly-mode",[106],{"type":23,"value":82},{"type":17,"tag":25,"props":108,"children":109},{},[110],{"type":23,"value":111},"Yabal has a special mode called \"assembly mode\". In assembly mode, you can write assembly code directly in your program.",{"type":17,"tag":25,"props":113,"children":114},{},[115,117,123,125,130,132,137],{"type":23,"value":116},"To enter assembly mode, use the ",{"type":17,"tag":118,"props":119,"children":120},"code",{"className":7},[121],{"type":23,"value":122},"asm",{"type":23,"value":124}," keyword, followed by a block of code surrounded by curly braces (",{"type":17,"tag":118,"props":126,"children":127},{"className":7},[128],{"type":23,"value":129},"{",{"type":23,"value":131}," and ",{"type":17,"tag":118,"props":133,"children":134},{"className":7},[135],{"type":23,"value":136},"}",{"type":23,"value":138},"):",{"type":17,"tag":140,"props":141,"children":145},"pre",{"className":142,"code":143,"language":144,"meta":7,"style":7},"language-yabal shiki shiki-themes github-light github-dark","asm {\n    // Assembly code goes here\n}\n","yabal",[146],{"type":17,"tag":118,"props":147,"children":148},{"__ignoreMap":7},[149,166,175],{"type":17,"tag":150,"props":151,"children":154},"span",{"class":152,"line":153},"line",1,[155,160],{"type":17,"tag":150,"props":156,"children":158},{"style":157},"--shiki-default:#D73A49;--shiki-dark:#F97583",[159],{"type":23,"value":122},{"type":17,"tag":150,"props":161,"children":163},{"style":162},"--shiki-default:#24292E;--shiki-dark:#E1E4E8",[164],{"type":23,"value":165}," {\n",{"type":17,"tag":150,"props":167,"children":168},{"class":152,"line":35},[169],{"type":17,"tag":150,"props":170,"children":172},{"style":171},"--shiki-default:#6A737D;--shiki-dark:#6A737D",[173],{"type":23,"value":174},"    // Assembly code goes here\n",{"type":17,"tag":150,"props":176,"children":178},{"class":152,"line":177},3,[179],{"type":17,"tag":150,"props":180,"children":181},{"style":162},[182],{"type":23,"value":183},"}\n",{"type":17,"tag":25,"props":185,"children":186},{},[187],{"type":23,"value":188},"Assembly mode is useful if you want to use an instruction that is not supported by Yabal, or if you want to optimize a piece of code.",{"type":17,"tag":190,"props":191,"children":193},"h2",{"id":192},"comments",[194],{"type":23,"value":195},"Comments",{"type":17,"tag":25,"props":197,"children":198},{},[199,201,206,208,213,214,219],{"type":23,"value":200},"The default comment style in assembly mode is the same as in Yabal (",{"type":17,"tag":118,"props":202,"children":203},{"className":7},[204],{"type":23,"value":205},"//",{"type":23,"value":207}," for single-line comments and ",{"type":17,"tag":118,"props":209,"children":210},{"className":7},[211],{"type":23,"value":212},"/*",{"type":23,"value":131},{"type":17,"tag":118,"props":215,"children":216},{"className":7},[217],{"type":23,"value":218},"*/",{"type":23,"value":220}," for multi-line comments) but you can also use assembly comments.",{"type":17,"tag":25,"props":222,"children":223},{},[224,226,231],{"type":23,"value":225},"Assembly comments start with ",{"type":17,"tag":118,"props":227,"children":228},{"className":7},[229],{"type":23,"value":230},",",{"type":23,"value":232}," and end at the end of the line:",{"type":17,"tag":140,"props":234,"children":236},{"className":142,"code":235,"language":144,"meta":7,"style":7},"asm {\n    , This is an assembly comment\n}\n",[237],{"type":17,"tag":118,"props":238,"children":239},{"__ignoreMap":7},[240,251,259],{"type":17,"tag":150,"props":241,"children":242},{"class":152,"line":153},[243,247],{"type":17,"tag":150,"props":244,"children":245},{"style":157},[246],{"type":23,"value":122},{"type":17,"tag":150,"props":248,"children":249},{"style":162},[250],{"type":23,"value":165},{"type":17,"tag":150,"props":252,"children":253},{"class":152,"line":35},[254],{"type":17,"tag":150,"props":255,"children":256},{"style":171},[257],{"type":23,"value":258},"    , This is an assembly comment\n",{"type":17,"tag":150,"props":260,"children":261},{"class":152,"line":177},[262],{"type":17,"tag":150,"props":263,"children":264},{"style":162},[265],{"type":23,"value":183},{"type":17,"tag":25,"props":267,"children":268},{},[269],{"type":23,"value":270},"These comments are are included in the generated assembly code, which can be useful for adding notes to the assembly code.",{"type":17,"tag":190,"props":272,"children":274},{"id":273},"instructions",[275],{"type":23,"value":276},"Instructions",{"type":17,"tag":25,"props":278,"children":279},{},[280,282,291],{"type":23,"value":281},"To see the list of supported assembly instructions, see the ",{"type":17,"tag":283,"props":284,"children":288},"a",{"href":285,"rel":286},"https://sam-astro.github.io/Astro8-Computer/docs/Architecture/Instruction%20Set.html",[287],"nofollow",[289],{"type":23,"value":290},"Astro-8 instruction set documentation",{"type":23,"value":292},".",{"type":17,"tag":25,"props":294,"children":295},{},[296],{"type":23,"value":297},"In addition to the instructions listed in the instruction set documentation, Yabal also supports the following instructions:",{"type":17,"tag":299,"props":300,"children":301},"table",{},[302,321],{"type":17,"tag":303,"props":304,"children":305},"thead",{},[306],{"type":17,"tag":307,"props":308,"children":309},"tr",{},[310,316],{"type":17,"tag":311,"props":312,"children":313},"th",{},[314],{"type":23,"value":315},"Instruction",{"type":17,"tag":311,"props":317,"children":318},{},[319],{"type":23,"value":320},"Description",{"type":17,"tag":322,"props":323,"children":324},"tbody",{},[325,342,370,395,420,445,470],{"type":17,"tag":307,"props":326,"children":327},{},[328,337],{"type":17,"tag":329,"props":330,"children":331},"td",{},[332],{"type":17,"tag":118,"props":333,"children":334},{"className":7},[335],{"type":23,"value":336},"HERE",{"type":17,"tag":329,"props":338,"children":339},{},[340],{"type":23,"value":341},"Insert the argument as a raw value",{"type":17,"tag":307,"props":343,"children":344},{},[345,353],{"type":17,"tag":329,"props":346,"children":347},{},[348],{"type":17,"tag":118,"props":349,"children":350},{"className":7},[351],{"type":23,"value":352},"JE",{"type":17,"tag":329,"props":354,"children":355},{},[356,358,363,365],{"type":23,"value":357},"Jump to the specified label if register ",{"type":17,"tag":118,"props":359,"children":360},{"className":7},[361],{"type":23,"value":362},"A",{"type":23,"value":364}," is equal to register ",{"type":17,"tag":118,"props":366,"children":367},{"className":7},[368],{"type":23,"value":369},"B",{"type":17,"tag":307,"props":371,"children":372},{},[373,381],{"type":17,"tag":329,"props":374,"children":375},{},[376],{"type":17,"tag":118,"props":377,"children":378},{"className":7},[379],{"type":23,"value":380},"JNE",{"type":17,"tag":329,"props":382,"children":383},{},[384,385,389,391],{"type":23,"value":357},{"type":17,"tag":118,"props":386,"children":387},{"className":7},[388],{"type":23,"value":362},{"type":23,"value":390}," is not equal to register ",{"type":17,"tag":118,"props":392,"children":393},{"className":7},[394],{"type":23,"value":369},{"type":17,"tag":307,"props":396,"children":397},{},[398,406],{"type":17,"tag":329,"props":399,"children":400},{},[401],{"type":17,"tag":118,"props":402,"children":403},{"className":7},[404],{"type":23,"value":405},"JL",{"type":17,"tag":329,"props":407,"children":408},{},[409,410,414,416],{"type":23,"value":357},{"type":17,"tag":118,"props":411,"children":412},{"className":7},[413],{"type":23,"value":362},{"type":23,"value":415}," is less than register ",{"type":17,"tag":118,"props":417,"children":418},{"className":7},[419],{"type":23,"value":369},{"type":17,"tag":307,"props":421,"children":422},{},[423,431],{"type":17,"tag":329,"props":424,"children":425},{},[426],{"type":17,"tag":118,"props":427,"children":428},{"className":7},[429],{"type":23,"value":430},"JLE",{"type":17,"tag":329,"props":432,"children":433},{},[434,435,439,441],{"type":23,"value":357},{"type":17,"tag":118,"props":436,"children":437},{"className":7},[438],{"type":23,"value":362},{"type":23,"value":440}," is less than or equal to register ",{"type":17,"tag":118,"props":442,"children":443},{"className":7},[444],{"type":23,"value":369},{"type":17,"tag":307,"props":446,"children":447},{},[448,456],{"type":17,"tag":329,"props":449,"children":450},{},[451],{"type":17,"tag":118,"props":452,"children":453},{"className":7},[454],{"type":23,"value":455},"JG",{"type":17,"tag":329,"props":457,"children":458},{},[459,460,464,466],{"type":23,"value":357},{"type":17,"tag":118,"props":461,"children":462},{"className":7},[463],{"type":23,"value":362},{"type":23,"value":465}," is greater than register ",{"type":17,"tag":118,"props":467,"children":468},{"className":7},[469],{"type":23,"value":369},{"type":17,"tag":307,"props":471,"children":472},{},[473,481],{"type":17,"tag":329,"props":474,"children":475},{},[476],{"type":17,"tag":118,"props":477,"children":478},{"className":7},[479],{"type":23,"value":480},"JGE",{"type":17,"tag":329,"props":482,"children":483},{},[484,485,489,491],{"type":23,"value":357},{"type":17,"tag":118,"props":486,"children":487},{"className":7},[488],{"type":23,"value":362},{"type":23,"value":490}," is greater than or equal to register ",{"type":17,"tag":118,"props":492,"children":493},{"className":7},[494],{"type":23,"value":369},{"type":17,"tag":190,"props":496,"children":498},{"id":497},"variable-addresses",[499],{"type":23,"value":500},"Variable addresses",{"type":17,"tag":25,"props":502,"children":503},{},[504,506,511],{"type":23,"value":505},"In assembly mode, you can get the address of a variable by using ",{"type":17,"tag":118,"props":507,"children":508},{"className":7},[509],{"type":23,"value":510},"@",{"type":23,"value":512}," followed by the name of the variable:",{"type":17,"tag":140,"props":514,"children":517},{"className":142,"code":515,"filename":516,"language":144,"meta":7,"style":7},"int variable = 1\n\nasm {\n    AIN @variable // Read the value of a into register A\n    LDIB 1 // Load the value 1 into register B\n    ADD // Add the value of register B to register A\n    STA @variable // Store the value of register A into a\n}\n\nvariable\n","run",[518],{"type":17,"tag":118,"props":519,"children":520},{"__ignoreMap":7},[521,545,553,564,583,602,616,634,642,650],{"type":17,"tag":150,"props":522,"children":523},{"class":152,"line":153},[524,529,534,539],{"type":17,"tag":150,"props":525,"children":526},{"style":157},[527],{"type":23,"value":528},"int",{"type":17,"tag":150,"props":530,"children":531},{"style":162},[532],{"type":23,"value":533}," variable ",{"type":17,"tag":150,"props":535,"children":536},{"style":157},[537],{"type":23,"value":538},"=",{"type":17,"tag":150,"props":540,"children":542},{"style":541},"--shiki-default:#005CC5;--shiki-dark:#79B8FF",[543],{"type":23,"value":544}," 1\n",{"type":17,"tag":150,"props":546,"children":547},{"class":152,"line":35},[548],{"type":17,"tag":150,"props":549,"children":550},{"emptyLinePlaceholder":55},[551],{"type":23,"value":552},"\n",{"type":17,"tag":150,"props":554,"children":555},{"class":152,"line":177},[556,560],{"type":17,"tag":150,"props":557,"children":558},{"style":157},[559],{"type":23,"value":122},{"type":17,"tag":150,"props":561,"children":562},{"style":162},[563],{"type":23,"value":165},{"type":17,"tag":150,"props":565,"children":567},{"class":152,"line":566},4,[568,573,578],{"type":17,"tag":150,"props":569,"children":570},{"style":157},[571],{"type":23,"value":572},"    AIN",{"type":17,"tag":150,"props":574,"children":575},{"style":162},[576],{"type":23,"value":577}," @variable ",{"type":17,"tag":150,"props":579,"children":580},{"style":171},[581],{"type":23,"value":582},"// Read the value of a into register A\n",{"type":17,"tag":150,"props":584,"children":586},{"class":152,"line":585},5,[587,592,597],{"type":17,"tag":150,"props":588,"children":589},{"style":157},[590],{"type":23,"value":591},"    LDIB",{"type":17,"tag":150,"props":593,"children":594},{"style":541},[595],{"type":23,"value":596}," 1",{"type":17,"tag":150,"props":598,"children":599},{"style":171},[600],{"type":23,"value":601}," // Load the value 1 into register B\n",{"type":17,"tag":150,"props":603,"children":605},{"class":152,"line":604},6,[606,611],{"type":17,"tag":150,"props":607,"children":608},{"style":157},[609],{"type":23,"value":610},"    ADD",{"type":17,"tag":150,"props":612,"children":613},{"style":171},[614],{"type":23,"value":615}," // Add the value of register B to register A\n",{"type":17,"tag":150,"props":617,"children":619},{"class":152,"line":618},7,[620,625,629],{"type":17,"tag":150,"props":621,"children":622},{"style":157},[623],{"type":23,"value":624},"    STA",{"type":17,"tag":150,"props":626,"children":627},{"style":162},[628],{"type":23,"value":577},{"type":17,"tag":150,"props":630,"children":631},{"style":171},[632],{"type":23,"value":633},"// Store the value of register A into a\n",{"type":17,"tag":150,"props":635,"children":637},{"class":152,"line":636},8,[638],{"type":17,"tag":150,"props":639,"children":640},{"style":162},[641],{"type":23,"value":183},{"type":17,"tag":150,"props":643,"children":645},{"class":152,"line":644},9,[646],{"type":17,"tag":150,"props":647,"children":648},{"emptyLinePlaceholder":55},[649],{"type":23,"value":552},{"type":17,"tag":150,"props":651,"children":653},{"class":152,"line":652},10,[654],{"type":17,"tag":150,"props":655,"children":656},{"style":162},[657],{"type":23,"value":658},"variable\n",{"type":17,"tag":660,"props":661,"children":663},"h3",{"id":662},"labels",[664],{"type":23,"value":665},"Labels",{"type":17,"tag":25,"props":667,"children":668},{},[669],{"type":23,"value":670},"Labels are used to mark a location in the assembly code. They are used by jump instructions to jump to a specific location in the code.",{"type":17,"tag":25,"props":672,"children":673},{},[674,676,681],{"type":23,"value":675},"Labels are declared by writing the name of the label, followed by a colon (",{"type":17,"tag":118,"props":677,"children":678},{"className":7},[679],{"type":23,"value":680},":",{"type":23,"value":138},{"type":17,"tag":140,"props":683,"children":685},{"className":142,"code":684,"language":144,"meta":7,"style":7},"asm {\n    label:\n}\n",[686],{"type":17,"tag":118,"props":687,"children":688},{"__ignoreMap":7},[689,700,714],{"type":17,"tag":150,"props":690,"children":691},{"class":152,"line":153},[692,696],{"type":17,"tag":150,"props":693,"children":694},{"style":157},[695],{"type":23,"value":122},{"type":17,"tag":150,"props":697,"children":698},{"style":162},[699],{"type":23,"value":165},{"type":17,"tag":150,"props":701,"children":702},{"class":152,"line":35},[703,709],{"type":17,"tag":150,"props":704,"children":706},{"style":705},"--shiki-default:#6F42C1;--shiki-dark:#B392F0",[707],{"type":23,"value":708},"    label",{"type":17,"tag":150,"props":710,"children":711},{"style":162},[712],{"type":23,"value":713},":\n",{"type":17,"tag":150,"props":715,"children":716},{"class":152,"line":177},[717],{"type":17,"tag":150,"props":718,"children":719},{"style":162},[720],{"type":23,"value":183},{"type":17,"tag":25,"props":722,"children":723},{},[724,726,731],{"type":23,"value":725},"To jump to a label, use the ",{"type":17,"tag":118,"props":727,"children":728},{"className":7},[729],{"type":23,"value":730},"JMP",{"type":23,"value":732}," instruction:",{"type":17,"tag":140,"props":734,"children":736},{"className":142,"code":735,"language":144,"meta":7,"style":7},"asm {\n    label:\n    JMP label\n}\n",[737],{"type":17,"tag":118,"props":738,"children":739},{"__ignoreMap":7},[740,751,762,775],{"type":17,"tag":150,"props":741,"children":742},{"class":152,"line":153},[743,747],{"type":17,"tag":150,"props":744,"children":745},{"style":157},[746],{"type":23,"value":122},{"type":17,"tag":150,"props":748,"children":749},{"style":162},[750],{"type":23,"value":165},{"type":17,"tag":150,"props":752,"children":753},{"class":152,"line":35},[754,758],{"type":17,"tag":150,"props":755,"children":756},{"style":705},[757],{"type":23,"value":708},{"type":17,"tag":150,"props":759,"children":760},{"style":162},[761],{"type":23,"value":713},{"type":17,"tag":150,"props":763,"children":764},{"class":152,"line":177},[765,770],{"type":17,"tag":150,"props":766,"children":767},{"style":157},[768],{"type":23,"value":769},"    JMP",{"type":17,"tag":150,"props":771,"children":772},{"style":705},[773],{"type":23,"value":774}," label\n",{"type":17,"tag":150,"props":776,"children":777},{"class":152,"line":566},[778],{"type":17,"tag":150,"props":779,"children":780},{"style":162},[781],{"type":23,"value":183},{"type":17,"tag":783,"props":784,"children":785},"warning",{},[786],{"type":17,"tag":25,"props":787,"children":788},{},[789,795],{"type":17,"tag":790,"props":791,"children":792},"strong",{},[793],{"type":23,"value":794},"Note:",{"type":23,"value":796}," It is only possible to jump to labels that are declared in the same assembly block.",{"type":17,"tag":25,"props":798,"children":799},{},[800,802,807],{"type":23,"value":801},"You can also use labels to mark data and use ",{"type":17,"tag":118,"props":803,"children":804},{"className":7},[805],{"type":23,"value":806},"AIN",{"type":23,"value":808}," to load the address.",{"type":17,"tag":25,"props":810,"children":811},{},[812,814,819],{"type":23,"value":813},"For example, the following code will create a pointer to the label ",{"type":17,"tag":118,"props":815,"children":816},{"className":7},[817],{"type":23,"value":818},"data",{"type":23,"value":680},{"type":17,"tag":140,"props":821,"children":823},{"className":142,"code":822,"filename":516,"language":144,"meta":7,"style":7},"int variable\n\nasm {\n    JMP program\n\n    data:\n    HERE 5\n\n    program:\n    AIN data\n    STA @variable\n}\n\nvariable\n",[824],{"type":17,"tag":118,"props":825,"children":826},{"__ignoreMap":7},[827,839,846,857,869,876,888,901,908,920,932,945,953,961],{"type":17,"tag":150,"props":828,"children":829},{"class":152,"line":153},[830,834],{"type":17,"tag":150,"props":831,"children":832},{"style":157},[833],{"type":23,"value":528},{"type":17,"tag":150,"props":835,"children":836},{"style":162},[837],{"type":23,"value":838}," variable\n",{"type":17,"tag":150,"props":840,"children":841},{"class":152,"line":35},[842],{"type":17,"tag":150,"props":843,"children":844},{"emptyLinePlaceholder":55},[845],{"type":23,"value":552},{"type":17,"tag":150,"props":847,"children":848},{"class":152,"line":177},[849,853],{"type":17,"tag":150,"props":850,"children":851},{"style":157},[852],{"type":23,"value":122},{"type":17,"tag":150,"props":854,"children":855},{"style":162},[856],{"type":23,"value":165},{"type":17,"tag":150,"props":858,"children":859},{"class":152,"line":566},[860,864],{"type":17,"tag":150,"props":861,"children":862},{"style":157},[863],{"type":23,"value":769},{"type":17,"tag":150,"props":865,"children":866},{"style":705},[867],{"type":23,"value":868}," program\n",{"type":17,"tag":150,"props":870,"children":871},{"class":152,"line":585},[872],{"type":17,"tag":150,"props":873,"children":874},{"emptyLinePlaceholder":55},[875],{"type":23,"value":552},{"type":17,"tag":150,"props":877,"children":878},{"class":152,"line":604},[879,884],{"type":17,"tag":150,"props":880,"children":881},{"style":705},[882],{"type":23,"value":883},"    data",{"type":17,"tag":150,"props":885,"children":886},{"style":162},[887],{"type":23,"value":713},{"type":17,"tag":150,"props":889,"children":890},{"class":152,"line":618},[891,896],{"type":17,"tag":150,"props":892,"children":893},{"style":157},[894],{"type":23,"value":895},"    HERE",{"type":17,"tag":150,"props":897,"children":898},{"style":541},[899],{"type":23,"value":900}," 5\n",{"type":17,"tag":150,"props":902,"children":903},{"class":152,"line":636},[904],{"type":17,"tag":150,"props":905,"children":906},{"emptyLinePlaceholder":55},[907],{"type":23,"value":552},{"type":17,"tag":150,"props":909,"children":910},{"class":152,"line":644},[911,916],{"type":17,"tag":150,"props":912,"children":913},{"style":705},[914],{"type":23,"value":915},"    program",{"type":17,"tag":150,"props":917,"children":918},{"style":162},[919],{"type":23,"value":713},{"type":17,"tag":150,"props":921,"children":922},{"class":152,"line":652},[923,927],{"type":17,"tag":150,"props":924,"children":925},{"style":157},[926],{"type":23,"value":572},{"type":17,"tag":150,"props":928,"children":929},{"style":705},[930],{"type":23,"value":931}," data\n",{"type":17,"tag":150,"props":933,"children":935},{"class":152,"line":934},11,[936,940],{"type":17,"tag":150,"props":937,"children":938},{"style":157},[939],{"type":23,"value":624},{"type":17,"tag":150,"props":941,"children":942},{"style":162},[943],{"type":23,"value":944}," @variable\n",{"type":17,"tag":150,"props":946,"children":948},{"class":152,"line":947},12,[949],{"type":17,"tag":150,"props":950,"children":951},{"style":162},[952],{"type":23,"value":183},{"type":17,"tag":150,"props":954,"children":956},{"class":152,"line":955},13,[957],{"type":17,"tag":150,"props":958,"children":959},{"emptyLinePlaceholder":55},[960],{"type":23,"value":552},{"type":17,"tag":150,"props":962,"children":964},{"class":152,"line":963},14,[965],{"type":17,"tag":150,"props":966,"children":967},{"style":162},[968],{"type":23,"value":658},{"type":17,"tag":25,"props":970,"children":971},{},[972,974,979],{"type":23,"value":973},"This will output ",{"type":17,"tag":118,"props":975,"children":976},{"className":7},[977],{"type":23,"value":978},"5",{"type":23,"value":292},{"type":17,"tag":981,"props":982,"children":983},"style",{},[984],{"type":23,"value":985},"html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":7,"searchDepth":35,"depth":35,"links":987},[988,989,990],{"id":192,"depth":35,"text":195},{"id":273,"depth":35,"text":276},{"id":497,"depth":35,"text":500,"children":991},[992],{"id":662,"depth":177,"text":665},"content:docs:5.advanced-topics:1.assembly-mode.md","docs/5.advanced-topics/1.assembly-mode.md",{"_path":86,"_dir":20,"_draft":6,"_partial":6,"_locale":7,"title":85,"description":996,"tags":997,"navigation":998,"body":999,"_type":37,"_id":2061,"_source":39,"_file":2062,"_extension":41},"Learn how to optimize your program.",[20],{"sidebar":55},{"type":14,"children":1000,"toc":2057},[1001,1006,1011,1017,1022,1027,1066,1071,1112,1117,1136,1142,1154,1167,1172,1397,1402,1749,1760,1969,1974,1979,2053],{"type":17,"tag":18,"props":1002,"children":1004},{"id":1003},"optimizing",[1005],{"type":23,"value":85},{"type":17,"tag":25,"props":1007,"children":1008},{},[1009],{"type":23,"value":1010},"This section contains tips and tricks for optimizing your program.",{"type":17,"tag":190,"props":1012,"children":1014},{"id":1013},"constant-values",[1015],{"type":23,"value":1016},"Constant values",{"type":17,"tag":25,"props":1018,"children":1019},{},[1020],{"type":23,"value":1021},"Before the compiler compiles the code to assembly, it will try to replace all constant values with their actual value.",{"type":17,"tag":25,"props":1023,"children":1024},{},[1025],{"type":23,"value":1026},"For example, let's say we have the following code:",{"type":17,"tag":140,"props":1028,"children":1031},{"className":142,"code":1029,"filename":516,"highlights":1030,"language":144,"meta":7,"style":7},"var a = 1 + 2\n",[177],[1032],{"type":17,"tag":118,"props":1033,"children":1034},{"__ignoreMap":7},[1035],{"type":17,"tag":150,"props":1036,"children":1037},{"class":152,"line":153},[1038,1043,1048,1052,1056,1061],{"type":17,"tag":150,"props":1039,"children":1040},{"style":157},[1041],{"type":23,"value":1042},"var",{"type":17,"tag":150,"props":1044,"children":1045},{"style":162},[1046],{"type":23,"value":1047}," a ",{"type":17,"tag":150,"props":1049,"children":1050},{"style":157},[1051],{"type":23,"value":538},{"type":17,"tag":150,"props":1053,"children":1054},{"style":541},[1055],{"type":23,"value":596},{"type":17,"tag":150,"props":1057,"children":1058},{"style":157},[1059],{"type":23,"value":1060}," +",{"type":17,"tag":150,"props":1062,"children":1063},{"style":541},[1064],{"type":23,"value":1065}," 2\n",{"type":17,"tag":25,"props":1067,"children":1068},{},[1069],{"type":23,"value":1070},"Without optimizing, the compiler will generate the following assembly code:",{"type":17,"tag":140,"props":1072,"children":1076},{"className":1073,"code":1074,"language":1075,"meta":7,"style":7},"language-a8 shiki shiki-themes github-light github-dark","LDIA 1\nLDIB 2\nADD\n","a8",[1077],{"type":17,"tag":118,"props":1078,"children":1079},{"__ignoreMap":7},[1080,1092,1104],{"type":17,"tag":150,"props":1081,"children":1082},{"class":152,"line":153},[1083,1088],{"type":17,"tag":150,"props":1084,"children":1085},{"style":157},[1086],{"type":23,"value":1087},"LDIA",{"type":17,"tag":150,"props":1089,"children":1090},{"style":541},[1091],{"type":23,"value":544},{"type":17,"tag":150,"props":1093,"children":1094},{"class":152,"line":35},[1095,1100],{"type":17,"tag":150,"props":1096,"children":1097},{"style":157},[1098],{"type":23,"value":1099},"LDIB",{"type":17,"tag":150,"props":1101,"children":1102},{"style":541},[1103],{"type":23,"value":1065},{"type":17,"tag":150,"props":1105,"children":1106},{"class":152,"line":177},[1107],{"type":17,"tag":150,"props":1108,"children":1109},{"style":157},[1110],{"type":23,"value":1111},"ADD\n",{"type":17,"tag":25,"props":1113,"children":1114},{},[1115],{"type":23,"value":1116},"With optimizing, the compiler will replace the constant values with their actual value, and the generated assembly code will be:",{"type":17,"tag":140,"props":1118,"children":1120},{"className":1073,"code":1119,"language":1075,"meta":7,"style":7},"LDIA 3\n",[1121],{"type":17,"tag":118,"props":1122,"children":1123},{"__ignoreMap":7},[1124],{"type":17,"tag":150,"props":1125,"children":1126},{"class":152,"line":153},[1127,1131],{"type":17,"tag":150,"props":1128,"children":1129},{"style":157},[1130],{"type":23,"value":1087},{"type":17,"tag":150,"props":1132,"children":1133},{"style":541},[1134],{"type":23,"value":1135}," 3\n",{"type":17,"tag":190,"props":1137,"children":1139},{"id":1138},"inline-functions",[1140],{"type":23,"value":1141},"Inline functions",{"type":17,"tag":25,"props":1143,"children":1144},{},[1145,1147,1152],{"type":23,"value":1146},"When you declare a function with ",{"type":17,"tag":118,"props":1148,"children":1149},{"className":7},[1150],{"type":23,"value":1151},"inline",{"type":23,"value":1153},", the compiler will replace all calls to the function with the function body.",{"type":17,"tag":25,"props":1155,"children":1156},{},[1157,1159,1165],{"type":23,"value":1158},"Together with ",{"type":17,"tag":283,"props":1160,"children":1162},{"href":1161},"#constant-values",[1163],{"type":23,"value":1164},"constant values",{"type":23,"value":1166},", this can drastically reduce the size of your program.",{"type":17,"tag":25,"props":1168,"children":1169},{},[1170],{"type":23,"value":1171},"For example, let's create a program that sets the first pixel on the screen to red:",{"type":17,"tag":140,"props":1173,"children":1175},{"className":142,"code":1174,"filename":516,"language":144,"meta":7,"style":7},"var screen = create_pointer(53870, 1)\n\nint get_color(int r, int g, int b) => (r / 8 \u003C\u003C 10) + (g / 8 \u003C\u003C 5) + (b / 8);\n\nscreen[0] = get_color(255, 0, 0)\n",[1176],{"type":17,"tag":118,"props":1177,"children":1178},{"__ignoreMap":7},[1179,1220,1227,1339,1346],{"type":17,"tag":150,"props":1180,"children":1181},{"class":152,"line":153},[1182,1186,1191,1195,1200,1205,1210,1215],{"type":17,"tag":150,"props":1183,"children":1184},{"style":157},[1185],{"type":23,"value":1042},{"type":17,"tag":150,"props":1187,"children":1188},{"style":162},[1189],{"type":23,"value":1190}," screen ",{"type":17,"tag":150,"props":1192,"children":1193},{"style":157},[1194],{"type":23,"value":538},{"type":17,"tag":150,"props":1196,"children":1197},{"style":162},[1198],{"type":23,"value":1199}," create_pointer(",{"type":17,"tag":150,"props":1201,"children":1202},{"style":541},[1203],{"type":23,"value":1204},"53870",{"type":17,"tag":150,"props":1206,"children":1207},{"style":162},[1208],{"type":23,"value":1209},", ",{"type":17,"tag":150,"props":1211,"children":1212},{"style":541},[1213],{"type":23,"value":1214},"1",{"type":17,"tag":150,"props":1216,"children":1217},{"style":162},[1218],{"type":23,"value":1219},")\n",{"type":17,"tag":150,"props":1221,"children":1222},{"class":152,"line":35},[1223],{"type":17,"tag":150,"props":1224,"children":1225},{"emptyLinePlaceholder":55},[1226],{"type":23,"value":552},{"type":17,"tag":150,"props":1228,"children":1229},{"class":152,"line":177},[1230,1234,1239,1243,1248,1252,1257,1261,1266,1270,1275,1280,1285,1290,1295,1300,1305,1309,1313,1317,1321,1325,1330,1334],{"type":17,"tag":150,"props":1231,"children":1232},{"style":157},[1233],{"type":23,"value":528},{"type":17,"tag":150,"props":1235,"children":1236},{"style":162},[1237],{"type":23,"value":1238}," get_color(",{"type":17,"tag":150,"props":1240,"children":1241},{"style":157},[1242],{"type":23,"value":528},{"type":17,"tag":150,"props":1244,"children":1245},{"style":162},[1246],{"type":23,"value":1247}," r, ",{"type":17,"tag":150,"props":1249,"children":1250},{"style":157},[1251],{"type":23,"value":528},{"type":17,"tag":150,"props":1253,"children":1254},{"style":162},[1255],{"type":23,"value":1256}," g, ",{"type":17,"tag":150,"props":1258,"children":1259},{"style":157},[1260],{"type":23,"value":528},{"type":17,"tag":150,"props":1262,"children":1263},{"style":162},[1264],{"type":23,"value":1265}," b) ",{"type":17,"tag":150,"props":1267,"children":1268},{"style":157},[1269],{"type":23,"value":538},{"type":17,"tag":150,"props":1271,"children":1272},{"style":162},[1273],{"type":23,"value":1274},"> (r / ",{"type":17,"tag":150,"props":1276,"children":1277},{"style":541},[1278],{"type":23,"value":1279},"8",{"type":17,"tag":150,"props":1281,"children":1282},{"style":162},[1283],{"type":23,"value":1284}," \u003C\u003C ",{"type":17,"tag":150,"props":1286,"children":1287},{"style":541},[1288],{"type":23,"value":1289},"10",{"type":17,"tag":150,"props":1291,"children":1292},{"style":162},[1293],{"type":23,"value":1294},") ",{"type":17,"tag":150,"props":1296,"children":1297},{"style":157},[1298],{"type":23,"value":1299},"+",{"type":17,"tag":150,"props":1301,"children":1302},{"style":162},[1303],{"type":23,"value":1304}," (g / ",{"type":17,"tag":150,"props":1306,"children":1307},{"style":541},[1308],{"type":23,"value":1279},{"type":17,"tag":150,"props":1310,"children":1311},{"style":162},[1312],{"type":23,"value":1284},{"type":17,"tag":150,"props":1314,"children":1315},{"style":541},[1316],{"type":23,"value":978},{"type":17,"tag":150,"props":1318,"children":1319},{"style":162},[1320],{"type":23,"value":1294},{"type":17,"tag":150,"props":1322,"children":1323},{"style":157},[1324],{"type":23,"value":1299},{"type":17,"tag":150,"props":1326,"children":1327},{"style":162},[1328],{"type":23,"value":1329}," (b / ",{"type":17,"tag":150,"props":1331,"children":1332},{"style":541},[1333],{"type":23,"value":1279},{"type":17,"tag":150,"props":1335,"children":1336},{"style":162},[1337],{"type":23,"value":1338},");\n",{"type":17,"tag":150,"props":1340,"children":1341},{"class":152,"line":566},[1342],{"type":17,"tag":150,"props":1343,"children":1344},{"emptyLinePlaceholder":55},[1345],{"type":23,"value":552},{"type":17,"tag":150,"props":1347,"children":1348},{"class":152,"line":585},[1349,1354,1359,1364,1368,1372,1377,1381,1385,1389,1393],{"type":17,"tag":150,"props":1350,"children":1351},{"style":162},[1352],{"type":23,"value":1353},"screen[",{"type":17,"tag":150,"props":1355,"children":1356},{"style":541},[1357],{"type":23,"value":1358},"0",{"type":17,"tag":150,"props":1360,"children":1361},{"style":162},[1362],{"type":23,"value":1363},"] ",{"type":17,"tag":150,"props":1365,"children":1366},{"style":157},[1367],{"type":23,"value":538},{"type":17,"tag":150,"props":1369,"children":1370},{"style":162},[1371],{"type":23,"value":1238},{"type":17,"tag":150,"props":1373,"children":1374},{"style":541},[1375],{"type":23,"value":1376},"255",{"type":17,"tag":150,"props":1378,"children":1379},{"style":162},[1380],{"type":23,"value":1209},{"type":17,"tag":150,"props":1382,"children":1383},{"style":541},[1384],{"type":23,"value":1358},{"type":17,"tag":150,"props":1386,"children":1387},{"style":162},[1388],{"type":23,"value":1209},{"type":17,"tag":150,"props":1390,"children":1391},{"style":541},[1392],{"type":23,"value":1358},{"type":17,"tag":150,"props":1394,"children":1395},{"style":162},[1396],{"type":23,"value":1219},{"type":17,"tag":25,"props":1398,"children":1399},{},[1400],{"type":23,"value":1401},"This will produce the following assembly code. Note, this is without the function body:",{"type":17,"tag":140,"props":1403,"children":1405},{"className":1073,"code":1404,"language":1075,"meta":7,"style":7},", Prepare the stack and call the function\nLDW\nHERE 132 , Label L6\nSWPC\nLDW\nHERE 140 , Label L5\nSTA 24\nBIN 24\nJMP\nHERE 25 , Yabal:call\n\n, Label L6: Prepare arguments\nLDIA 255\nSTA 7 , [Stack:0]\nLDIA 0\nSTA 8 , [Stack:1]\nLDIA 0\nSTA 9 , [Stack:2]\nJMP\nHERE 91\n\n, Label L5: Return, load the return value and update the screen\nAIN 12 , Yabal:return_value\nSWP\nLDW\nHERE 53871\nBNK 1\nSTAOUT\nBNK 0\n",[1406],{"type":17,"tag":118,"props":1407,"children":1408},{"__ignoreMap":7},[1409,1417,1425,1442,1450,1457,1474,1487,1499,1507,1524,1531,1539,1551,1568,1581,1599,1611,1629,1637,1650,1658,1667,1685,1694,1702,1715,1728,1737],{"type":17,"tag":150,"props":1410,"children":1411},{"class":152,"line":153},[1412],{"type":17,"tag":150,"props":1413,"children":1414},{"style":171},[1415],{"type":23,"value":1416},", Prepare the stack and call the function\n",{"type":17,"tag":150,"props":1418,"children":1419},{"class":152,"line":35},[1420],{"type":17,"tag":150,"props":1421,"children":1422},{"style":157},[1423],{"type":23,"value":1424},"LDW\n",{"type":17,"tag":150,"props":1426,"children":1427},{"class":152,"line":177},[1428,1432,1437],{"type":17,"tag":150,"props":1429,"children":1430},{"style":157},[1431],{"type":23,"value":336},{"type":17,"tag":150,"props":1433,"children":1434},{"style":541},[1435],{"type":23,"value":1436}," 132",{"type":17,"tag":150,"props":1438,"children":1439},{"style":171},[1440],{"type":23,"value":1441}," , Label L6\n",{"type":17,"tag":150,"props":1443,"children":1444},{"class":152,"line":566},[1445],{"type":17,"tag":150,"props":1446,"children":1447},{"style":157},[1448],{"type":23,"value":1449},"SWPC\n",{"type":17,"tag":150,"props":1451,"children":1452},{"class":152,"line":585},[1453],{"type":17,"tag":150,"props":1454,"children":1455},{"style":157},[1456],{"type":23,"value":1424},{"type":17,"tag":150,"props":1458,"children":1459},{"class":152,"line":604},[1460,1464,1469],{"type":17,"tag":150,"props":1461,"children":1462},{"style":157},[1463],{"type":23,"value":336},{"type":17,"tag":150,"props":1465,"children":1466},{"style":541},[1467],{"type":23,"value":1468}," 140",{"type":17,"tag":150,"props":1470,"children":1471},{"style":171},[1472],{"type":23,"value":1473}," , Label L5\n",{"type":17,"tag":150,"props":1475,"children":1476},{"class":152,"line":618},[1477,1482],{"type":17,"tag":150,"props":1478,"children":1479},{"style":157},[1480],{"type":23,"value":1481},"STA",{"type":17,"tag":150,"props":1483,"children":1484},{"style":541},[1485],{"type":23,"value":1486}," 24\n",{"type":17,"tag":150,"props":1488,"children":1489},{"class":152,"line":636},[1490,1495],{"type":17,"tag":150,"props":1491,"children":1492},{"style":157},[1493],{"type":23,"value":1494},"BIN",{"type":17,"tag":150,"props":1496,"children":1497},{"style":541},[1498],{"type":23,"value":1486},{"type":17,"tag":150,"props":1500,"children":1501},{"class":152,"line":644},[1502],{"type":17,"tag":150,"props":1503,"children":1504},{"style":157},[1505],{"type":23,"value":1506},"JMP\n",{"type":17,"tag":150,"props":1508,"children":1509},{"class":152,"line":652},[1510,1514,1519],{"type":17,"tag":150,"props":1511,"children":1512},{"style":157},[1513],{"type":23,"value":336},{"type":17,"tag":150,"props":1515,"children":1516},{"style":541},[1517],{"type":23,"value":1518}," 25",{"type":17,"tag":150,"props":1520,"children":1521},{"style":171},[1522],{"type":23,"value":1523}," , Yabal:call\n",{"type":17,"tag":150,"props":1525,"children":1526},{"class":152,"line":934},[1527],{"type":17,"tag":150,"props":1528,"children":1529},{"emptyLinePlaceholder":55},[1530],{"type":23,"value":552},{"type":17,"tag":150,"props":1532,"children":1533},{"class":152,"line":947},[1534],{"type":17,"tag":150,"props":1535,"children":1536},{"style":171},[1537],{"type":23,"value":1538},", Label L6: Prepare arguments\n",{"type":17,"tag":150,"props":1540,"children":1541},{"class":152,"line":955},[1542,1546],{"type":17,"tag":150,"props":1543,"children":1544},{"style":157},[1545],{"type":23,"value":1087},{"type":17,"tag":150,"props":1547,"children":1548},{"style":541},[1549],{"type":23,"value":1550}," 255\n",{"type":17,"tag":150,"props":1552,"children":1553},{"class":152,"line":963},[1554,1558,1563],{"type":17,"tag":150,"props":1555,"children":1556},{"style":157},[1557],{"type":23,"value":1481},{"type":17,"tag":150,"props":1559,"children":1560},{"style":541},[1561],{"type":23,"value":1562}," 7",{"type":17,"tag":150,"props":1564,"children":1565},{"style":171},[1566],{"type":23,"value":1567}," , [Stack:0]\n",{"type":17,"tag":150,"props":1569,"children":1571},{"class":152,"line":1570},15,[1572,1576],{"type":17,"tag":150,"props":1573,"children":1574},{"style":157},[1575],{"type":23,"value":1087},{"type":17,"tag":150,"props":1577,"children":1578},{"style":541},[1579],{"type":23,"value":1580}," 0\n",{"type":17,"tag":150,"props":1582,"children":1584},{"class":152,"line":1583},16,[1585,1589,1594],{"type":17,"tag":150,"props":1586,"children":1587},{"style":157},[1588],{"type":23,"value":1481},{"type":17,"tag":150,"props":1590,"children":1591},{"style":541},[1592],{"type":23,"value":1593}," 8",{"type":17,"tag":150,"props":1595,"children":1596},{"style":171},[1597],{"type":23,"value":1598}," , [Stack:1]\n",{"type":17,"tag":150,"props":1600,"children":1602},{"class":152,"line":1601},17,[1603,1607],{"type":17,"tag":150,"props":1604,"children":1605},{"style":157},[1606],{"type":23,"value":1087},{"type":17,"tag":150,"props":1608,"children":1609},{"style":541},[1610],{"type":23,"value":1580},{"type":17,"tag":150,"props":1612,"children":1614},{"class":152,"line":1613},18,[1615,1619,1624],{"type":17,"tag":150,"props":1616,"children":1617},{"style":157},[1618],{"type":23,"value":1481},{"type":17,"tag":150,"props":1620,"children":1621},{"style":541},[1622],{"type":23,"value":1623}," 9",{"type":17,"tag":150,"props":1625,"children":1626},{"style":171},[1627],{"type":23,"value":1628}," , [Stack:2]\n",{"type":17,"tag":150,"props":1630,"children":1632},{"class":152,"line":1631},19,[1633],{"type":17,"tag":150,"props":1634,"children":1635},{"style":157},[1636],{"type":23,"value":1506},{"type":17,"tag":150,"props":1638,"children":1640},{"class":152,"line":1639},20,[1641,1645],{"type":17,"tag":150,"props":1642,"children":1643},{"style":157},[1644],{"type":23,"value":336},{"type":17,"tag":150,"props":1646,"children":1647},{"style":541},[1648],{"type":23,"value":1649}," 91\n",{"type":17,"tag":150,"props":1651,"children":1653},{"class":152,"line":1652},21,[1654],{"type":17,"tag":150,"props":1655,"children":1656},{"emptyLinePlaceholder":55},[1657],{"type":23,"value":552},{"type":17,"tag":150,"props":1659,"children":1661},{"class":152,"line":1660},22,[1662],{"type":17,"tag":150,"props":1663,"children":1664},{"style":171},[1665],{"type":23,"value":1666},", Label L5: Return, load the return value and update the screen\n",{"type":17,"tag":150,"props":1668,"children":1670},{"class":152,"line":1669},23,[1671,1675,1680],{"type":17,"tag":150,"props":1672,"children":1673},{"style":157},[1674],{"type":23,"value":806},{"type":17,"tag":150,"props":1676,"children":1677},{"style":541},[1678],{"type":23,"value":1679}," 12",{"type":17,"tag":150,"props":1681,"children":1682},{"style":171},[1683],{"type":23,"value":1684}," , Yabal:return_value\n",{"type":17,"tag":150,"props":1686,"children":1688},{"class":152,"line":1687},24,[1689],{"type":17,"tag":150,"props":1690,"children":1691},{"style":157},[1692],{"type":23,"value":1693},"SWP\n",{"type":17,"tag":150,"props":1695,"children":1697},{"class":152,"line":1696},25,[1698],{"type":17,"tag":150,"props":1699,"children":1700},{"style":157},[1701],{"type":23,"value":1424},{"type":17,"tag":150,"props":1703,"children":1705},{"class":152,"line":1704},26,[1706,1710],{"type":17,"tag":150,"props":1707,"children":1708},{"style":157},[1709],{"type":23,"value":336},{"type":17,"tag":150,"props":1711,"children":1712},{"style":541},[1713],{"type":23,"value":1714}," 53871\n",{"type":17,"tag":150,"props":1716,"children":1718},{"class":152,"line":1717},27,[1719,1724],{"type":17,"tag":150,"props":1720,"children":1721},{"style":157},[1722],{"type":23,"value":1723},"BNK",{"type":17,"tag":150,"props":1725,"children":1726},{"style":541},[1727],{"type":23,"value":544},{"type":17,"tag":150,"props":1729,"children":1731},{"class":152,"line":1730},28,[1732],{"type":17,"tag":150,"props":1733,"children":1734},{"style":157},[1735],{"type":23,"value":1736},"STAOUT\n",{"type":17,"tag":150,"props":1738,"children":1740},{"class":152,"line":1739},29,[1741,1745],{"type":17,"tag":150,"props":1742,"children":1743},{"style":157},[1744],{"type":23,"value":1723},{"type":17,"tag":150,"props":1746,"children":1747},{"style":541},[1748],{"type":23,"value":1580},{"type":17,"tag":25,"props":1750,"children":1751},{},[1752,1754,1758],{"type":23,"value":1753},"If we change the function to ",{"type":17,"tag":118,"props":1755,"children":1756},{"className":7},[1757],{"type":23,"value":1151},{"type":23,"value":1759},", the compiler will replace all calls to the function with the function body:",{"type":17,"tag":140,"props":1761,"children":1764},{"className":142,"code":1762,"filename":516,"highlights":1763,"language":144,"meta":7,"style":7},"var screen = create_pointer(53870, 1)\n\ninline int get_color(int r, int g, int b) => (r / 8 \u003C\u003C 10) + (g / 8 \u003C\u003C 5) + (b / 8);\n\nscreen[0] = get_color(255, 0, 0)\n",[177],[1765],{"type":17,"tag":118,"props":1766,"children":1767},{"__ignoreMap":7},[1768,1803,1810,1915,1922],{"type":17,"tag":150,"props":1769,"children":1770},{"class":152,"line":153},[1771,1775,1779,1783,1787,1791,1795,1799],{"type":17,"tag":150,"props":1772,"children":1773},{"style":157},[1774],{"type":23,"value":1042},{"type":17,"tag":150,"props":1776,"children":1777},{"style":162},[1778],{"type":23,"value":1190},{"type":17,"tag":150,"props":1780,"children":1781},{"style":157},[1782],{"type":23,"value":538},{"type":17,"tag":150,"props":1784,"children":1785},{"style":162},[1786],{"type":23,"value":1199},{"type":17,"tag":150,"props":1788,"children":1789},{"style":541},[1790],{"type":23,"value":1204},{"type":17,"tag":150,"props":1792,"children":1793},{"style":162},[1794],{"type":23,"value":1209},{"type":17,"tag":150,"props":1796,"children":1797},{"style":541},[1798],{"type":23,"value":1214},{"type":17,"tag":150,"props":1800,"children":1801},{"style":162},[1802],{"type":23,"value":1219},{"type":17,"tag":150,"props":1804,"children":1805},{"class":152,"line":35},[1806],{"type":17,"tag":150,"props":1807,"children":1808},{"emptyLinePlaceholder":55},[1809],{"type":23,"value":552},{"type":17,"tag":150,"props":1811,"children":1813},{"class":1812,"line":177},"line highlight",[1814,1818,1823,1827,1831,1835,1839,1843,1847,1851,1855,1859,1863,1867,1871,1875,1879,1883,1887,1891,1895,1899,1903,1907,1911],{"type":17,"tag":150,"props":1815,"children":1816},{"style":157},[1817],{"type":23,"value":1151},{"type":17,"tag":150,"props":1819,"children":1820},{"style":157},[1821],{"type":23,"value":1822}," int",{"type":17,"tag":150,"props":1824,"children":1825},{"style":162},[1826],{"type":23,"value":1238},{"type":17,"tag":150,"props":1828,"children":1829},{"style":157},[1830],{"type":23,"value":528},{"type":17,"tag":150,"props":1832,"children":1833},{"style":162},[1834],{"type":23,"value":1247},{"type":17,"tag":150,"props":1836,"children":1837},{"style":157},[1838],{"type":23,"value":528},{"type":17,"tag":150,"props":1840,"children":1841},{"style":162},[1842],{"type":23,"value":1256},{"type":17,"tag":150,"props":1844,"children":1845},{"style":157},[1846],{"type":23,"value":528},{"type":17,"tag":150,"props":1848,"children":1849},{"style":162},[1850],{"type":23,"value":1265},{"type":17,"tag":150,"props":1852,"children":1853},{"style":157},[1854],{"type":23,"value":538},{"type":17,"tag":150,"props":1856,"children":1857},{"style":162},[1858],{"type":23,"value":1274},{"type":17,"tag":150,"props":1860,"children":1861},{"style":541},[1862],{"type":23,"value":1279},{"type":17,"tag":150,"props":1864,"children":1865},{"style":162},[1866],{"type":23,"value":1284},{"type":17,"tag":150,"props":1868,"children":1869},{"style":541},[1870],{"type":23,"value":1289},{"type":17,"tag":150,"props":1872,"children":1873},{"style":162},[1874],{"type":23,"value":1294},{"type":17,"tag":150,"props":1876,"children":1877},{"style":157},[1878],{"type":23,"value":1299},{"type":17,"tag":150,"props":1880,"children":1881},{"style":162},[1882],{"type":23,"value":1304},{"type":17,"tag":150,"props":1884,"children":1885},{"style":541},[1886],{"type":23,"value":1279},{"type":17,"tag":150,"props":1888,"children":1889},{"style":162},[1890],{"type":23,"value":1284},{"type":17,"tag":150,"props":1892,"children":1893},{"style":541},[1894],{"type":23,"value":978},{"type":17,"tag":150,"props":1896,"children":1897},{"style":162},[1898],{"type":23,"value":1294},{"type":17,"tag":150,"props":1900,"children":1901},{"style":157},[1902],{"type":23,"value":1299},{"type":17,"tag":150,"props":1904,"children":1905},{"style":162},[1906],{"type":23,"value":1329},{"type":17,"tag":150,"props":1908,"children":1909},{"style":541},[1910],{"type":23,"value":1279},{"type":17,"tag":150,"props":1912,"children":1913},{"style":162},[1914],{"type":23,"value":1338},{"type":17,"tag":150,"props":1916,"children":1917},{"class":152,"line":566},[1918],{"type":17,"tag":150,"props":1919,"children":1920},{"emptyLinePlaceholder":55},[1921],{"type":23,"value":552},{"type":17,"tag":150,"props":1923,"children":1924},{"class":152,"line":585},[1925,1929,1933,1937,1941,1945,1949,1953,1957,1961,1965],{"type":17,"tag":150,"props":1926,"children":1927},{"style":162},[1928],{"type":23,"value":1353},{"type":17,"tag":150,"props":1930,"children":1931},{"style":541},[1932],{"type":23,"value":1358},{"type":17,"tag":150,"props":1934,"children":1935},{"style":162},[1936],{"type":23,"value":1363},{"type":17,"tag":150,"props":1938,"children":1939},{"style":157},[1940],{"type":23,"value":538},{"type":17,"tag":150,"props":1942,"children":1943},{"style":162},[1944],{"type":23,"value":1238},{"type":17,"tag":150,"props":1946,"children":1947},{"style":541},[1948],{"type":23,"value":1376},{"type":17,"tag":150,"props":1950,"children":1951},{"style":162},[1952],{"type":23,"value":1209},{"type":17,"tag":150,"props":1954,"children":1955},{"style":541},[1956],{"type":23,"value":1358},{"type":17,"tag":150,"props":1958,"children":1959},{"style":162},[1960],{"type":23,"value":1209},{"type":17,"tag":150,"props":1962,"children":1963},{"style":541},[1964],{"type":23,"value":1358},{"type":17,"tag":150,"props":1966,"children":1967},{"style":162},[1968],{"type":23,"value":1219},{"type":17,"tag":25,"props":1970,"children":1971},{},[1972],{"type":23,"value":1973},"Because the parameter values are constant, the compiler can calculate the result at compile time, and replace the inline function call with the result.",{"type":17,"tag":25,"props":1975,"children":1976},{},[1977],{"type":23,"value":1978},"This will produce the following assembly code:",{"type":17,"tag":140,"props":1980,"children":1982},{"className":1073,"code":1981,"language":1075,"meta":7,"style":7},"LDIA 992\nSWP\nLDW\nHERE 53872\nBNK 1\nSTAOUT\nBNK 0\n",[1983],{"type":17,"tag":118,"props":1984,"children":1985},{"__ignoreMap":7},[1986,1998,2005,2012,2024,2035,2042],{"type":17,"tag":150,"props":1987,"children":1988},{"class":152,"line":153},[1989,1993],{"type":17,"tag":150,"props":1990,"children":1991},{"style":157},[1992],{"type":23,"value":1087},{"type":17,"tag":150,"props":1994,"children":1995},{"style":541},[1996],{"type":23,"value":1997}," 992\n",{"type":17,"tag":150,"props":1999,"children":2000},{"class":152,"line":35},[2001],{"type":17,"tag":150,"props":2002,"children":2003},{"style":157},[2004],{"type":23,"value":1693},{"type":17,"tag":150,"props":2006,"children":2007},{"class":152,"line":177},[2008],{"type":17,"tag":150,"props":2009,"children":2010},{"style":157},[2011],{"type":23,"value":1424},{"type":17,"tag":150,"props":2013,"children":2014},{"class":152,"line":566},[2015,2019],{"type":17,"tag":150,"props":2016,"children":2017},{"style":157},[2018],{"type":23,"value":336},{"type":17,"tag":150,"props":2020,"children":2021},{"style":541},[2022],{"type":23,"value":2023}," 53872\n",{"type":17,"tag":150,"props":2025,"children":2026},{"class":152,"line":585},[2027,2031],{"type":17,"tag":150,"props":2028,"children":2029},{"style":157},[2030],{"type":23,"value":1723},{"type":17,"tag":150,"props":2032,"children":2033},{"style":541},[2034],{"type":23,"value":544},{"type":17,"tag":150,"props":2036,"children":2037},{"class":152,"line":604},[2038],{"type":17,"tag":150,"props":2039,"children":2040},{"style":157},[2041],{"type":23,"value":1736},{"type":17,"tag":150,"props":2043,"children":2044},{"class":152,"line":618},[2045,2049],{"type":17,"tag":150,"props":2046,"children":2047},{"style":157},[2048],{"type":23,"value":1723},{"type":17,"tag":150,"props":2050,"children":2051},{"style":541},[2052],{"type":23,"value":1580},{"type":17,"tag":981,"props":2054,"children":2055},{},[2056],{"type":23,"value":985},{"title":7,"searchDepth":35,"depth":35,"links":2058},[2059,2060],{"id":1013,"depth":35,"text":1016},{"id":1138,"depth":35,"text":1141},"content:docs:5.advanced-topics:2.optimizing.md","docs/5.advanced-topics/2.optimizing.md",1698346814470]